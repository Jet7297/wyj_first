<template>
    <div class="page-group">

        <div class="page page-current">

            <header v-if="showBack" class="bar-nav">
                <van-nav-bar title="保单录入"
                             :border="false"
                             :fixed="true">
                    <template #left>
                        <van-icon name="arrow-left"
                                  color="#3B3B3B"
                                  size="20"
                                  @click="onClickLeft" />
                    </template>
                </van-nav-bar>
            </header>

            <!-- <div class="content insure-input-content" style="bottom: 2.5rem;"
				v-bind:style="{ 'pointer-events': pageData.disabledPage? 'none' : '' }"> -->

            <div class="content insure-input-content"
                 @scroll="scrollEvent"
                 style="bottom: 2.5rem;background-color: #fafafa">

                <!-- 投保人信息 -->
                <div class="appntInfo-title">
                    <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>投保人信息</h4>
                </div>
                <div class="appntInfo-div">
                    <div class="list-block">
                        <ul>
                            <li v-for="(item, index) in pageData.appntInfo.struct"
                                :key="index"
                                v-if="item.isShow === '0'"
                                class="item-content h5-item-content"
                                :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                <template v-if="item.type === 'input'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <!--<div class="item-input">
											<input type="text" :placeholder="item.holder" :name="item.code"
												v-on:blur="appntInfoEvent('input', item, $event.target.value)"
												v-model.trim='pageData.appntInfo.data[item.code]'>
											<template v-if="item.code == 'name'">
												<span class="camera-text">身份识别</span>
												<img class="camera-img" width="30%" src="data:image/png;base64,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"/>
												<input class="camera-img-file"  type="file" name='file' accept="image/*" @change="ocrRecognitionHandler('applicant',imgContainer.applicant,pageData.appntInfo.data)" id="applicant"/>
											</template>
										</div>-->
                                        <!--										<template v-if="item.edit == '0' || item.edit == 'N'">-->
                                        <!--											<div class="item-input">-->
                                        <!--												<input type="text"-->
                                        <!--													   readonly="readonly"-->
                                        <!--													   :placeholder="item.holder"-->
                                        <!--													   :name="item.code"-->
                                        <!--													   v-on:blur="appntInfoEvent('input', item, $event.target.value)"-->
                                        <!--												>-->
                                        <!--											</div>-->
                                        <!--										</template>-->
                                        <template>
                                            <!--<div class="item-input" v-if="item.code == 'name'">
												<van-popover
														v-model="showPopover"
														:actions="pageData.storeList"
														theme="dark"
														@select="updateNameVal"
												>
													<template #reference>
														<input type="text"
															   :placeholder="item.holder"
															   :name="item.code"
															   v-on:blur="appntInfoEvent('input', item, $event.target.value)"
															   v-model.trim='pageData.appntInfo.data[item.code]'>
														<template v-if="item.code == 'name' && nameCamera">
															<span class="camera-text">身份识别</span>
															<img class="camera-img" width="30%" src="data:image/png;base64,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"/>
															<input class="camera-img-file"
																   type="file"
																   name='file'
																   accept="image/*"
																   @change="ocrRecognitionHandler('applicant',imgContainer.applicant,pageData.appntInfo.data)"
																   id="applicant"/>
														</template>
													</template>
												</van-popover>
											</div>-->
                                            <div class="item-input">
                                                <input type="text"
                                                       :readonly="item.edit == '0' || item.edit == 'N'"
                                                       :placeholder="item.holder"
                                                       :name="item.code"
                                                       v-on:blur="appntInfoEvent('input', item, $event.target.value)"
                                                       v-model.trim='pageData.appntInfo.data[item.code]'>
                                                <template v-if="item.code == 'name' && nameCamera">
                                                    <span class="camera-text">身份识别</span>
                                                    <img class="camera-img" width="30%" src="data:image/png;base64,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"/>
                                                    <input class="camera-img-file"
                                                           type="file"
                                                           name='file'
                                                           accept="image/*"
                                                           @change="ocrRecognitionHandler('applicant',imgContainer.applicant,pageData.appntInfo.data)"
                                                           id="applicant"/>
                                                </template>
                                            </div>
                                        </template>
                                    </div>
                                </template>
                                <template v-if="item.type === 'number'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">
                                            <input type="number"
                                                   :placeholder="item.holder"
                                                   :name="item.code"
                                                   v-on:blur="appntInfoEvent('number', item, $event.target.value)"
                                                   v-model.trim='pageData.appntInfo.data[item.code]'>
                                        </div>
                                    </div>
                                </template>
                                <template v-else-if="item.type === 'select'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <!--<div class="item-input">

											<eg-data-picker :value="pageData.appntInfo.data[item.code]" :placeholder="item.holder"
												:params="item.data" :edit="item.edit" @input="pageData.appntInfo.data[item.code] = $event.value"
												@change="appntInfoEvent('select', item, $event)">
											</eg-data-picker>

										</div>-->
                                        <template v-if="item.isEdit == '0' || item.isEdit == 'N'">
                                            <div class="item-input">

                                                <eg-data-picker :value="pageData.appntInfo.data[item.code]"
                                                                readonly="readonly"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.appntInfo.data[item.code] = $event.value"
                                                                @change="appntInfoEvent('select', item, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </template>
                                        <template v-else>
                                            <div class="item-input">

                                                <eg-data-picker :value="pageData.appntInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.appntInfo.data[item.code] = $event.value"
                                                                @change="appntInfoEvent('select', item, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </template>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'radio'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="pageData.appntInfo.data[item.code]"
                                                             :data="item.data"
                                                             @input="pageData.appntInfo.data[item.code] = $event.value"
                                                             @change="appntInfoEvent('radio', item, $event)">
                                            </eg-data-checker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'date'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-date-picker :type="'date'"
                                                            :placeholder="item.holder"
                                                            class="birthdayDate"
                                                            :value="pageData.appntInfo.data[item.code]"
                                                            :min-date="item.data.minDate"
                                                            :max-date="item.data.maxDate"
                                                            :edit="item.edit"
                                                            @input="pageData.appntInfo.data[item.code] = $event.value"
                                                            @change="appntInfoEvent('date', item, $event)">
                                            </eg-date-picker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'stack'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-stack-picker :value="pageData.appntInfo.data[item.code]"
                                                             :params="item.data"
                                                             :title="item.holder"
                                                             :placeholder="item.holder"
                                                             @input="pageData.appntInfo.data[item.code] = $event.value"
                                                             @change="appntInfoEvent('stack', item, $event)">
                                            </eg-stack-picker>

                                        </div>
                                    </div>
                                </template>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- 被保人信息 -->
                <div class="insuredInfo-title">
                    <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>被保人信息</h4>
                </div>
                <div class="insuredInfo-div">
                    <div class="list-block">
                        <ul>
                            <li class="item-content h5-item-content" v-if="wstbShow">
                                <div class="item-inner h5-item-inner">
                                    <!--<div class="item-title label" style="width: 55%;">与投保人是否同一人</div>
									<div class="item-input" style="float: right;">

										<eg-data-checker style="text-align: right; width:100%;"
														 :check-val="pageData.sameOneFlag"
														 :data="pageData.isSameData"
														 @input="pageData.sameOneFlag = $event.value"
														 @click="relationInfoEvent($event)">
										</eg-data-checker>

									</div>-->
                                    <div class="item-title label">为谁投保</div>
                                    <div class="item-input" style="float: right;">
                                        <div  style="text-align: left">
                                            <template v-if="pageData.saleCode != 'TSMOBILE_SALE_115' && pageData.saleCode != 'TSMOBILE_SALE_116'">
                                                <van-button type="default" v-for="(item, index) in page.relationToAppntlist"
                                                            v-if="index < 4" size="mini" style="margin-right: 5px;" :value="item.code"
                                                            :class="{'bg-violet':item.code==page.relationToInsured}"
                                                            @click="selectInsuredRelationship(item.code)"
                                                >{{item.value}}</van-button>
                                            </template>
                                            <template v-if="pageData.saleCode == 'TSMOBILE_SALE_115' || pageData.saleCode == 'TSMOBILE_SALE_116'">
                                                <van-button type="default" v-for="(item, index) in page.relationToAppntlist"
                                                            v-if="item.code == '00' || item.code == '02'" size="mini" style="margin-right: 5px;" :value="item.code"
                                                            :class="{'bg-violet':item.code==page.relationToInsured}"
                                                            @click="selectInsuredRelationship(item.code)"
                                                >{{item.value}}</van-button>
                                            </template>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <template v-if="pageData.sameOneFlag == 'N'">
                                <li v-for="(item, index) in pageData.insuredInfo.struct"
                                    v-if="item.isShow === '0'"
                                    class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">
                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <!--<div class="item-input">
												<input type="text" :placeholder="item.holder" :name="item.code"
													v-on:blur="insuredInfoEvent('input', item, $event.target.value)"
													v-model.trim='pageData.insuredInfo.data[item.code]'
													v-on:blur="inputChange(item, $event.target.value)">

												<template v-if="item.code == 'name'">
													<span class="camera-text">身份识别</span>
													<img class="camera-img" width="30%" src="data:image/png;base64,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"/>
													<input class="camera-img-file" type="file" name='file' accept="image/*" @change="ocrRecognitionHandler('recognizee',imgContainer.recognizee,pageData.insuredInfo.data)"  id="recognizee"/>
												</template>
											</div>-->

                                            <template v-if="item.edit == '0' || item.edit == 'N'">
                                                <div class="item-input">
                                                    <input type="text"
                                                           readonly="readonly"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"/>
                                                </div>
                                            </template>
                                            <template v-else>
                                                <div class="item-input" v-if="item.code == 'name'">
                                                    <van-popover
                                                            v-model="showPopover"
                                                            :actions="pageData.storeList"
                                                            theme="dark"
                                                            @select="updateNameVal"
                                                    >
                                                        <template #reference>
                                                            <input type="text"
                                                                   :placeholder="item.holder"
                                                                   :name="item.code"
                                                                   v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"
                                                                   v-model.trim='pageData.insuredInfo.data[item.code]'>
                                                            <template v-if="item.code == 'name' && nameCamera">
                                                                <span class="camera-text">身份识别</span>
                                                                <img class="camera-img"
                                                                     width="30%"
                                                                     src="data:image/png;base64,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"/>
                                                                <input class="camera-img-file"
                                                                       type="file"
                                                                       name='file'
                                                                       accept="image/*"
                                                                       @change="ocrRecognitionHandler('recognizee',imgContainer.recognizee,pageData.insuredInfo.data)"
                                                                       id="recognizee"/>
                                                            </template>
                                                        </template>
                                                    </van-popover>
                                                </div>
                                                <div class="item-input" v-else>
                                                    <input type="text"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"
                                                           v-model.trim='pageData.insuredInfo.data[item.code]'>
                                                    <template v-if="item.code == 'name' && nameCamera">
                                                        <span class="camera-text">身份识别</span>
                                                        <img class="camera-img"
                                                             width="30%"
                                                             src="data:image/png;base64,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"/>
                                                        <input class="camera-img-file"
                                                               type="file"
                                                               name='file'
                                                               accept="image/*"
                                                               @change="ocrRecognitionHandler('recognizee',imgContainer.recognizee,pageData.insuredInfo.data)"
                                                               id="recognizee"/>
                                                    </template>
                                                </div>
                                            </template>

                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.code"
                                                       v-on:blur="insuredInfoEvent('number', item, $event.target.value),inputChange(item, $event.target.value)"
                                                       v-model.trim='pageData.insuredInfo.data[item.code]'>
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-data-picker :value="pageData.insuredInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                @change="insuredInfoEvent('select', item, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'radio'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <eg-data-checker style="text-align: right; width:100%;"
                                                                 :check-val="pageData.insuredInfo.data[item.code]"
                                                                 :data="item.data"
                                                                 @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                 @change="insuredInfoEvent('radio', item, $event)">
                                                </eg-data-checker>
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :value="pageData.insuredInfo.data[item.code]"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                :edit="item.edit"
                                                                @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                @change="insuredInfoEvent('date', item, $event)">
                                                </eg-date-picker>
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'stack'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <eg-stack-picker :value="pageData.insuredInfo.data[item.code]"
                                                                 :params="item.data"
                                                                 :title="item.holder"
                                                                 :placeholder="item.holder"
                                                                 @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                 @change="insuredInfoEvent('stack', item, $event)">
                                                </eg-stack-picker>
                                            </div>
                                        </div>
                                    </template>
                                </li>
                            </template>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--附属被保人-->
                <template v-if="pageData.insuredListInfo">
                    <div class="insuredInfo-div">
                        <div class="list-block">
                            <ul  v-for="(val, inx) in pageData.insuredListInfo.values">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner h5-item-inner-add-risk">
                                        <div class="item-title fwb">
                                            &nbsp;附属被保人{{inx+1}}
                                        </div>
                                        <div class="item-after">
                                            <a @click="removeRecognizee(inx)"
                                               class="button button-fill button-warning">删 除</a>
                                        </div>
                                    </div>
                                </li>
                                <template>
                                    <li v-for="(item, index) in pageData.insuredListInfo.struct"
                                        v-if="item.isShow === '0'"
                                        class="item-content h5-item-content"
                                        :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                        <template v-if="item.type === 'input'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <input type="text"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"
                                                           v-model.trim='pageData.insuredListInfo.values[inx][item.code]'>
                                                    <template v-if="item.code == 'name'">
                                                        <span class="camera-text">身份识别</span>
                                                        <img class="camera-img"
                                                             width="30%"
                                                             src="data:image/png;base64,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"/>
                                                        <input class="camera-img-file"
                                                               type="file"
                                                               name='file'
                                                               accept="image/*"
                                                               @change="ocrRecognitionHandler('insuredListInfo'+inx,imgContainer.DependentInsured[inx],pageData.insuredListInfo.values[inx])"
                                                               :id="'insuredListInfo'+inx"/>
                                                    </template>
                                                </div>
                                            </div>
                                        </template>
                                        <template v-if="item.type === 'number'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <input type="number"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('number', item, $event.target.value),inputChange(item, $event.target.value)"
                                                           v-model.trim='pageData.insuredListInfo.values[inx][item.code]'>
                                                </div>
                                            </div>
                                        </template>
                                        <template v-else-if="item.type === 'select'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">

                                                    <eg-data-picker :value="pageData.insuredInfo.data[item.code]"
                                                                    :placeholder="item.holder"
                                                                    :params="item.data"
                                                                    :edit="item.edit"
                                                                    @input="pageData.insuredListInfo.values[inx][item.code] = $event.value"
                                                                    @change="insuredInfoEvent('select', item, $event)">
                                                    </eg-data-picker>

                                                </div>
                                            </div>
                                        </template>
                                    </li>
                                </template>
                                </li>
                            </ul>
                        </div>
                    </div>

                </template>

                <div class="insuredInfo-div"
                     v-if="pageData.insuredListInfo && pageData.insuredListInfo.struct.length>0 && pageData.insuredListInfo.values.length<5">
                    <div class="list-block">
                        <ul class="bnfInfo-input-add-button no-gap">
                            <li class="item-content h5-item-content">
                                <div class="item-inner h5-item-inner" style="padding-left: 10%; padding-right: 10%;">
                                    <div class="item-title label" style="width: 100%;">
                                        <a @click="addRecognizee"
                                           class="button button-customer-h5 button-customer-verificode">
                                            +添加附属被保人
                                        </a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!--附属被保人-->
                <!--<template v-if="pageData.insuredListInfo">-->
                <!--	&lt;!&ndash;附属被保人&ndash;&gt;-->
                <!--	<div class="insuredInfo-div" v-for="(item , index) in pageData.assistantRecognizee" :key="item.seqNo">-->
                <!--		<div class="list-block">-->
                <!--			<ul>-->

                <!--				<li class="item-content h5-item-content item-link">-->
                <!--					<template>-->
                <!--						<div class="item-inner h5-item-inner">-->
                <!--							<div class="item-title label">-->
                <!--								与主保人关系-->
                <!--								<span style="color: red;">*</span>-->
                <!--							</div>-->
                <!--							<div class="item-input">-->
                <!--								<eg-data-picker :value="pageData.paramRelations[0].value" :params="pageData.paramRelations"-->
                <!--												placeholder="请选择与主保人关系"-->
                <!--												@input="item.relCde = $event.value"-->
                <!--												@change="insuredInfoEvent('select', {'code':'relations'}, $event)">-->
                <!--								</eg-data-picker>-->
                <!--							</div>-->
                <!--						</div>-->
                <!--					</template>-->
                <!--				</li>-->
                <!--				<li class="item-content h5-item-content">-->
                <!--					<template>-->
                <!--						<div class="item-inner h5-item-inner h5-item-inner-link">-->
                <!--							<div class="item-title label">-->
                <!--								姓名-->
                <!--								<span style="color: red;">*</span>-->
                <!--							</div>-->
                <!--							<div class="item-input">-->
                <!--								<input type="text" placeholder="请输入姓名"-->
                <!--									   v-on:blur="insuredInfoEvent('input', {'code':'name'}, $event.target.value)"-->
                <!--									   v-model="item.memberName"-->
                <!--									   v-on:blur="inputChange( {'code':'relations'}, $event.target.value)">-->
                <!--							</div>-->
                <!--						</div>-->
                <!--					</template>-->
                <!--				</li>-->
                <!--				<li class="item-content h5-item-content">-->
                <!--					<template>-->
                <!--						<div class="item-inner h5-item-inner h5-item-inner-link">-->
                <!--							<div class="item-title label">-->
                <!--								身份证号-->
                <!--								<span style="color: red;">*</span>-->
                <!--							</div>-->
                <!--							<div class="item-input">-->
                <!--								<input type="text" placeholder="请输入身份证号"-->
                <!--									   v-on:blur="insuredInfoEvent('number', {'code':'IdNum'}, $event.target.value)"-->
                <!--									   v-model.trim="item.certfCde"-->
                <!--									   v-on:blur="inputChange( {'code':'IdNum'}, $event.target.value)">-->
                <!--							</div>-->
                <!--						</div>-->
                <!--					</template>-->
                <!--				</li>-->
                <!--			</ul>-->
                <!--		</div>-->
                <!--	</div>-->


                <!--</template>-->

                <!-- 受益人信息 -->
                <div class="bnfInfo-title" style="display: none">
                    <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>受益人信息</h4>
                </div>
                <div class="bnfInfo-div" style="display: none">
                    <div class="list-block">
                        <ul>
                            <template v-if="pageData.isCanChooseBnfType === 'N'">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label" style="width: 55%;">受益人类型</div>
                                        <div class="item-input" style="float: right;">

                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="pageData.bnfType"
                                                             :data="pageData.relationData"
                                                             @input="pageData.bnfType = $event.value"
                                                             @click="relationbnfInfoEvent($event)">
                                            </eg-data-checker>
                                        </div>
                                    </div>
                                </li>
                            </template>
                            <template v-if="pageData.isCanChooseBnfType === 'Y'">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label" style="width: 55%;">是否指定受益人</div>
                                        <div class="item-input" style="float: right;">
                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="pageData.bnfType"
                                                             :data="pageData.relationData"
                                                             @input="pageData.bnfType = $event.value"
                                                             @click="relationbnfInfoEvent($event)">
                                            </eg-data-checker>
                                        </div>
                                    </div>
                                </li>
                            </template>
                        </ul>
                    </div>

                    <div v-if="pageData.bnfType=='1'" class="list-block">


                        <ul class="no-gap" v-for="(itemData, dataIndex) in pageData.bnfInfo.dataArray">

                            <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner h5-item-inner-add-risk">
                                        <div class="item-title fwb">
                                            &nbsp;
                                        </div>
                                        <div class="item-after">
                                            <a @click="removeBnfInfo(dataIndex)" class="button button-fill button-warning">删 除</a>
                                        </div>
                                    </div>
                                </li>
                            </template>

                            <li v-for="(item, index) in pageData.bnfInfo.struct"
                                v-if="item.isShow === '0'"
                                :key="index"
                                class="item-content h5-item-content"
                                :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                <template v-if="item.type === 'input'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">

                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">
                                            <input type="text"
                                                   :placeholder="item.holder"
                                                   :name="item.code"
                                                   v-on:blur="bnfInfoEvent('input', item, dataIndex, $event.target.value),inputChange(item, $event.target.value)"
                                                   v-model.trim='itemData[item.code]'>
                                        </div>

                                    </div>
                                </template>

                                <template v-else-if="item.type === 'select'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-data-picker :value="itemData[item.code]"
                                                            :placeholder="item.holder"
                                                            :params="item.data"
                                                            :edit="item.edit"
                                                            @input="itemData[item.code] = $event.value"
                                                            @change="bnfInfoEvent('select', item, dataIndex, $event)">
                                            </eg-data-picker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'radio'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="itemData[item.code]"
                                                             :data="item.data"
                                                             @input="itemData[item.code] = $event.value"
                                                             @change="bnfInfoEvent('radio', item, dataIndex, $event)">
                                            </eg-data-checker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'date'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-date-picker :type="'date'"
                                                            :placeholder="item.holder"
                                                            class="birthdayDate"
                                                            :value="itemData[item.code]"
                                                            :min-date="item.data.minDate"
                                                            :max-date="item.data.maxDate"
                                                            :edit="item.edit"
                                                            @input="itemData[item.code] = $event.value"
                                                            @change="bnfInfoEvent('date', item, dataIndex, $event)">
                                            </eg-date-picker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'stack'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-stack-picker :value="itemData[item.code]"
                                                             :params="item.data"
                                                             :title="item.holder"
                                                             :placeholder="item.holder"
                                                             @input="itemData[item.code] = $event.value"
                                                             @change="bnfInfoEvent('stack', item, dataIndex, $event)">
                                            </eg-stack-picker>

                                        </div>
                                    </div>
                                </template>

                            </li>

                        </ul>


                        <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                            <template v-if="pageData.bnfInfoIndex <= 2">
                                <ul class="bnfInfo-input-add-button no-gap">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner" style="padding-left: 10%; padding-right: 10%;">
                                            <div class="item-title label" style="width: 100%;">
                                                <a @click="addBnfInfo()" class="button button-customer-h5 button-customer-verificode">
                                                    +增加受益人
                                                </a>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </template>
                        </template>

                    </div>

                </div>
                <template v-if="pageData.saleCode == 'TSMOBILE_SALE_102'">
                    <!-- 受益人信息 -->
                    <div class="bnfInfo-title" >
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;"><span></span>受益人信息</h4>
                    </div>
                    <div class="bnfInfo-div" >
                        <div class="list-block">
                            <ul>
                                <template v-if="pageData.isCanChooseBnfType === 'N'">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label" style="width: 55%;">受益人类型</div>
                                            <div class="item-input" style="float: right;">

                                                <eg-data-checker style="text-align: right; width:100%;" :check-val="pageData.bnfType"
                                                                 :data="pageData.relationData" @input="pageData.bnfType = $event.value"
                                                                 @click="relationbnfInfoEvent($event)">
                                                </eg-data-checker>
                                            </div>
                                        </div>
                                    </li>
                                </template>
                                <template v-if="pageData.isCanChooseBnfType === 'Y'">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label" style="width: 55%;">是否指定受益人</div>
                                            <div class="item-input" style="float: right;">
                                                <eg-data-checker style="text-align: right; width:100%;" :check-val="pageData.bnfType"
                                                                 :data="pageData.relationData" @input="pageData.bnfType = $event.value"
                                                                 @click="relationbnfInfoEvent($event)">
                                                </eg-data-checker>
                                            </div>
                                        </div>
                                    </li>
                                </template>
                            </ul>
                        </div>

                        <div v-if="pageData.bnfType=='1'" class="list-block">


                            <ul class="no-gap" v-for="(itemData, dataIndex) in pageData.bnfInfo.dataArray">

                                <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner h5-item-inner-add-risk">
                                            <div class="item-title fwb">
                                                &nbsp;
                                            </div>
                                            <div class="item-after">
                                                <a @click="removeBnfInfo(dataIndex)" class="button button-fill button-warning">删 除</a>
                                            </div>
                                        </div>
                                    </li>
                                </template>

                                <li v-for="(item, index) in pageData.bnfInfo.struct" v-if="item.isShow === '0'"
                                    class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">

                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="text" :placeholder="item.holder" :name="item.code"
                                                       v-on:blur="bnfInfoEvent('input', item, dataIndex, $event.target.value),inputChange(item, $event.target.value)"
                                                       v-model.trim='itemData[item.code]'>
                                            </div>

                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-data-picker :value="itemData[item.code]" :placeholder="item.holder" :params="item.data"
                                                                :edit="item.edit" @input="itemData[item.code] = $event.value"
                                                                @change="bnfInfoEvent('select', item, dataIndex, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'radio'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-data-checker style="text-align: right; width:100%;" :check-val="itemData[item.code]"
                                                                 :data="item.data" @input="itemData[item.code] = $event.value"
                                                                 @change="bnfInfoEvent('radio', item, dataIndex, $event)">
                                                </eg-data-checker>

                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'" :placeholder="item.holder" class="birthdayDate"
                                                                :value="itemData[item.code]" :min-date="item.data.minDate" :max-date="item.data.maxDate"
                                                                :edit="item.edit" @input="itemData[item.code] = $event.value"
                                                                @change="bnfInfoEvent('date', item, dataIndex, $event)">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'stack'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-stack-picker :value="itemData[item.code]" :params="item.data" :title="item.holder"
                                                                 :placeholder="item.holder" @input="itemData[item.code] = $event.value"
                                                                 @change="bnfInfoEvent('stack', item, dataIndex, $event)">
                                                </eg-stack-picker>

                                            </div>
                                        </div>
                                    </template>

                                </li>

                            </ul>


                            <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                                <template v-if="pageData.bnfInfoIndex <= 2">
                                    <ul class="bnfInfo-input-add-button no-gap">
                                        <li class="item-content h5-item-content">
                                            <div class="item-inner h5-item-inner" style="padding-left: 10%; padding-right: 10%;">
                                                <div class="item-title label" style="width: 100%;">
                                                    <a @click="addBnfInfo()" class="button button-customer-h5 button-customer-verificode">
                                                        +增加受益人
                                                    </a>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </template>
                            </template>

                        </div>

                    </div>
                </template>
                <!-- 影像信息  -->
                <template v-if="pageData.imageInfo && pageData.imageInfo.struct && pageData.imageInfo.struct.length>0">
                    <div class="recntinfo-title">
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;"><span></span>影像信息</h4>
                    </div>
                    <div class="carinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.imageInfo.struct"
                                    class="item-content h5-item-content"
                                    :key="index"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'file'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>


                                            <!-- <div class="item-input" v-if="item.code==='name'||item.code==='idNo'">
												<input type="text" :placeholder="item.holder" :name="item.name"
													   v-model='pageData.imageInfo.data[item.code]'
													   v-on:blur="inputChange()">
											</div>
											<div class="item-input" v-else>
												<input type="text" :placeholder="item.holder" :name="item.name"
													   v-model='pageData.imageInfo.data[item.code]'
													   v-on:blur="inputChange()">
											</div>-->
                                            <div class="list-block">
                                                <ul style="padding-left: 0rem;">
                                                    <li class="item-content">
                                                        <div class="item-inner">
                                                            <div class="upload">
                                                                <div style="display: grid;" class="upload-box" >
                                                                    <div style="border:1px solid #000;display:inline-block;"  >
                                                                        <div style="display:inline;padding-right: 8pt"
                                                                             v-for="(item, index) in file_1"
                                                                             :key="index"
                                                                             v-show="file_1">
                                                                            <img  class="pre-img-temp"
                                                                                  style="height: 6rem; border-radius:0.4rem;"
                                                                                  :src="item"/>
                                                                        </div>
                                                                    </div>
                                                                    <div style="border:1px solid #000;display:inline-block;"
                                                                         class="upload-card" >
                                                                        <input type="text"
                                                                               name="billType"
                                                                               value="Idcard"
                                                                               style="display: none;" />
                                                                        <input type="file"
                                                                               name='file'
                                                                               accept="image/*"
                                                                               @change="changeImag('file_1','Idcard')"
                                                                               class="upload-card-file"
                                                                               id="file_1"
                                                                               :src="file_1"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>

                                        </div>
                                    </template>

                                </li>
                            </ul>
                        </div>
                    </div>
                </template>
                <!-- 推荐人信息 -->
                <template v-if="pageData.recntInfo && pageData.recntInfo.struct && pageData.recntInfo.struct.length>0">
                    <div class="recntinfo-title">
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;"><span></span>推荐人信息</h4>
                    </div>
                    <div class="carinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.recntInfo.struct"
                                    class="item-content h5-item-content"
                                    :key="index"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input"
                                                 v-if="item.code==='name'||item.code==='idNo'">
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.recntInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                            <div class="item-input" v-else>
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.recntInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.recntInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='idType'">
                                                <eg-data-picker :value="pageData.recntInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :edit="'0'"
                                                                :params="item.data"
                                                                @input="pageData.recntInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                            <div class="item-input" v-else>
                                                <eg-data-picker :value="pageData.recntInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.recntInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                v-model="pageData.recntInfo.data[item.code]">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'stack'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-stack-picker :value="pageData.recntInfo.data[item.code]"
                                                                 :params="item.data"
                                                                 :title="item.holder"
                                                                 :placeholder="item.holder"
                                                                 @input="pageData.recntInfo.data[item.code] = $event.value"
                                                                 @change="insuredInfoEvent('stack', item, $event)">
                                                </eg-stack-picker>

                                            </div>
                                        </div>
                                    </template>
                                </li>
                            </ul>
                        </div>
                    </div>
                </template>
                <!-- 保险标的信息 -->
                <template v-for="(tagInfo,index) in pageData.tagsList">
                    <template v-if=" tagInfo.struct && tagInfo.struct.length>0">
                        <div class="carinfo-title">
                            <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>{{tagInfo.riskName}}标的信息
                            </h4>
                        </div>
                        <div class="carinfo-div">
                            <div class="list-block">
                                <ul>
                                    <li v-for="(item, index) in tagInfo.struct"
                                        :key="index"
                                        class="item-content h5-item-content"
                                        :class="{'item-link' :item.type === 'select' || item.type === 'stack'}"
                                        v-if="item.isShow != '1'">
                                        <template v-if="item.type === 'input'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <template v-if="item.isEdit == '0' || item.isEdit == 'N'">
                                                    <div class="item-input">
                                                        <input type="text"
                                                               readonly="readonly"
                                                               :placeholder="item.holder"
                                                               :name="item.name"
                                                               v-model='tagInfo.data[item.code]'
                                                               v-on:blur="inputChange(item, $event.target.value)">
                                                    </div>
                                                </template>
                                                <template v-else-if ="item.code == 'licenseno' || item.code == 'clplate'">
                                                    <div class="item-input">
                                                        <input type="text"
                                                               style="text-transform:uppercase"
                                                               :placeholder="item.holder"
                                                               :name="item.name"
                                                               v-model='tagInfo.data[item.code]'
                                                               v-on:blur="inputChange(item, $event.target.value),appntInfoEvent('input', item, $event.target.value)">
                                                    </div>
                                                </template>
                                                <template v-else>
                                                    <div class="item-input">
                                                        <input type="text"
                                                               :placeholder="item.holder"
                                                               :name="item.name"
                                                               v-model='tagInfo.data[item.code]'
                                                               v-on:blur="inputChange(item, $event.target.value),appntInfoEvent('input', item, $event.target.value)">
                                                    </div>
                                                </template>
                                            </div>
                                        </template>
                                        <template v-if="item.type === 'number'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <input type="number"
                                                           :placeholder="item.holder"
                                                           :name="item.name"
                                                           v-model='tagInfo.data[item.code]'
                                                           v-on:blur="inputChange(item, $event.target.value)">
                                                </div>
                                            </div>
                                        </template>
                                        <template v-if="item.type === 'select'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <eg-data-picker :value="tagInfo.data[item.code]"
                                                                    :placeholder="item.holder"
                                                                    :params="item.data"
                                                                    :edit="item.edit"
                                                                    @input="tagInfo.data[item.code] = $event.value">
                                                    </eg-data-picker>
                                                </div>
                                            </div>
                                        </template>
                                        <!--2021-06-23日添加标的radio类型，之前标的没有radio类型，
									目前该元素只适用于骑行无忧-VIP产品的是否挂牌业务-->
                                        <template v-if="item.type === 'radio'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}
                                                    <template v-if="item.isNeed === '1'">
                                                        <span style="color: red;">*</span>
                                                    </template>
                                                    <template v-else>
                                                        <span>&nbsp;</span>
                                                    </template>
                                                </div>
                                                <div class="item-input">
                                                    <eg-data-checker style="text-align: right; width:100%;" :check-val="pageData.isgp"
                                                                     :data="item.data" @input="pageData.isgp = $event.value" @change="isgpEvent($event.value)">
                                                    </eg-data-checker>
                                                </div>
                                            </div>
                                        </template>

                                        <template v-else-if="item.type === 'date'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">

                                                    <eg-date-picker :type="'date'"
                                                                    :placeholder="item.holder"
                                                                    class="birthdayDate"
                                                                    :min-date="item.data.minDate"
                                                                    :max-date="item.data.maxDate"
                                                                    :edit="item.isEdit"
                                                                    :max-year="item.data.maxYear"
                                                                    v-model="tagInfo.data[item.code]">
                                                    </eg-date-picker>

                                                </div>
                                            </div>
                                        </template>

                                        <template v-else-if="item.type === 'stack'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">

                                                    <eg-stack-picker :value="pageData.appntInfo.data[item.code]"
                                                                     :params="item.data"
                                                                     :title="item.holder"
                                                                     :placeholder="item.holder"
                                                                     @input="tagInfo.data[item.code] = $event.value"
                                                                     @change="appntInfoEvent('stack', item, $event)">
                                                    </eg-stack-picker>

                                                </div>
                                            </div>
                                        </template>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </template>
                </template>
                <!-- 账户信息 -->
                <template v-if="pageData.accountInfo && pageData.accountInfo.struct && pageData.accountInfo.struct.length>0">
                    <div class="accountinfo-title">
                        <h4 class="index-content-title"
                            style="margin: 0.2rem 0px 0.5rem;color:#444577"><span class="tb"></span>账户信息<span
                                class="ts">(只能使用投保人银行卡)</span></h4>
                    </div>
                    <div class="accountinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.accountInfo.struct" class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='name'||item.code==='idNo'">
                                                <input type="text" :placeholder="item.holder" :name="item.name"
                                                       v-model='pageData.accountInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                            <div class="item-input" v-else>
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.accountInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.accountInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='idType'">
                                                <eg-data-picker :value="pageData.accountInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :edit="'0'"
                                                                :params="item.data"
                                                                @input="pageData.accountInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                            <div class="item-input" v-else>
                                                <eg-data-picker :value="pageData.accountInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.accountInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                v-model="pageData.accountInfo.data[item.code]">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>
                                </li>
                            </ul>
                        </div>
                    </div>
                </template>
                <!-- 房屋信息 -->
                <template v-if="pageData.houseInfo && pageData.houseInfo.struct && pageData.houseInfo.struct.length>0">
                    <div class="houseinfo-title">
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>房屋信息</h4>
                    </div>
                    <div class="houseinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.houseInfo.struct" class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='name'||item.code==='idNo'">
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.houseInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                            <div class="item-input" v-else>
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.houseInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.carInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='idType'">
                                                <eg-data-picker :value="pageData.houseInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :edit="'0'"
                                                                :params="item.data"
                                                                @input="pageData.houseInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                            <div class="item-input" v-else>
                                                <eg-data-picker :value="pageData.houseInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.houseInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                v-model="pageData.houseInfo.data[item.code]">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>


                                </li>


                            </ul>
                        </div>
                    </div>
                </template>

                <template v-if="pageData.agreeButton !== undefined && pageData.agreeButton.length !== ''">
                    <div class="product-desc-title agree" v-html="pageData.agreeButton">
                    </div>
                </template>
                <div class="bottom-div">
                    &nbsp;
                </div>
                <!-- 条款须知弹出层开始 -->
                <div style="position: absolute; top: 0px;width: 100%;z-index: 1" v-if="tkxz.isShow">
                    <div v-html="tkxz.tkxzHtml" style="display: none"></div>
                    <van-nav-bar
                            title="文件阅读页"
                            :border="false"
                            :fixed="true">
                        <template #left>
                            <van-icon name="arrow-left"
                                      color="#3B3B3B"
                                      size="20"
                                      @click="closeTkxzCon" />
                        </template>
                    </van-nav-bar>
                    <van-tabs v-model="tkxz.active" scrollspy sticky
                              offset-top="46px"
                              color="#444577"
                              style="background-color: #fafafa">
                        <van-tab v-for="(item, index) in tkxz.tkxzArr" :title="item.tkxzTile">
                            <div style="background: #fff; margin: 15px;padding: 15px;border-radius: 10px;" v-html="item.tkxzCon"></div>
                        </van-tab>
                    </van-tabs>
                </div>
                <!-- 条款须知指引遮罩 -->
                <van-overlay :show="tkxz.zyIsShow" z-index="103" @click="tkxz.zyIsShow = false" >
                    <div class="wrapper" >
                        <img src="~@/assets/img/tkxz/tkxzzy.png" width="50%">
                    </div>
                </van-overlay>
                <!-- 条款须知弹出层结束 -->
            </div>
            <!-- 条款须知弹出层底部按钮开始 -->
            <div class="footer-fixd-bottom" style="position: absolute;z-index: 102" v-if="tkxz.isShow">
                <!-- 按钮禁用增加disabled style="opacity:1.0,解除禁用#444577" -->
                <van-button v-if="!tkxz.confirmBtn" color="#bbbbbb" block style="opacity:1.0" @click="tkxz.zyIsShow=true">确认并同意</van-button>
                <van-button v-if="tkxz.confirmBtn" color="#444577" block @click="confirmTkxzCon()">确认并同意</van-button>
            </div>
            <!-- 条款须知弹出层底部按钮结束 -->

            <!-- 底部保费计算、立即支付 -->
            <!-- <div class="footer-fixd-bottom" style="position: absolute;"
				v-bind:style="{ 'pointer-events': pageData.disabledPage? 'none' : '' }"> -->
            <div class="footer-fixd-bottom" style="position: absolute;">
                <div class="bar-tab">
                    <div class="row no-gutter no-gutter-shadow">
                        <div class="col-50" id="sumPrem">
                            <a style="font-size: 12px;"
                               class="button button-big button-customer-h5 button-total">保费&nbsp;&nbsp;&nbsp;&nbsp;<span
                                    style="font-size: 1.2rem;line-height: 1rem;" class="price">￥{{  parseFloat(pageData.sumPrem).toFixed(2) }}</span> </a>
                        </div>
                        <div class="col-50">
                            <a href="#"
                               style="background-color:#444577;font-size: 12px;border-radius: 0px;"
                               id="subBtn"
                               class="button button-big button-fill button-customer-h5 button-down"
                               @click="nextInsureInput()">立即支付</a>
                        </div>
                    </div>
                </div>
            </div>
            <!--<div id="popover" class="mui-popover">
				<ul class="mui-table-view">
					<li class="mui-table-view-cell" v-for="(item, index) in pageData.storeList">
						<a href="#" @click="updateNameVal(item)">{{item.text}}</a>
					</li>
				</ul>
			</div>-->
        </div>


    </div>
</template>
<script>
    import $ from 'jquery';
    import { Toast, Dialog,Tab, Tabs, Notify } from 'vant';
    import EventBus from '@/utils/EventBus'
    // var compCheck = require('@/utils/comp-check');
    var $customer = require('@/api/customer');
    import compCheck from '@/utils/comp-check';
    import api from '@/api'
    import config from '@/config'

    // var $life = require('@/module/life');
    // var $calculation = require('@/module/calculation');
    // var util = require('@/utils/util');
    import util from '@/utils/util'
    import { inputConfig, getInit, inputSave, getImpartInfo, uploadFile, uploadFileOrc, relationType, queryStoreList, getFrameno } from "@/api/product";


    //回溯需求依赖
    var client = require('@/utils/sinosoft_collention_client');

    export default {

        data: function () {

            return {
                file_1: [],
                // ocr图片
                imgContainer:{
                    // 投保人
                    applicant:[],
                    // 被保人
                    recognizee:[],
                    // 附属被保人
                    DependentInsured:[[],[],[],[],[]]
                },
                page: {
                    autoloader: true,
                    relationToInsured:'',
                    relationToAppnt:'',
                    relationToAppntlist:[]
                },

                pageData: {
                    riskType: '',
                    //被保人 试算 标识
                    insuredFlag: false,
                    //投保人 试算 标识
                    appntFlag: false,
                    trialAddRiskList: [], //已经添加的试算集合中的附加险
                    //已经计算的list
                    readyMainRiskList: [],
                    readyAddRiskList: [],
                    saleCode: '',
                    plan:'',  //套餐编码
                    saleName: '',

                    sumPrem: '0.00',

                    /**** 控制字段 start ****/

                    appntInfo: {
                        data: {},
                        struct: []
                    }, //投保人
                    mainRiskList: [],
                    isCanChooseIsSame: '', //是否可以选择 投保人和被保人 Y是 N否
                    sameOneFlag: '', //指定的情况下 Y是 N否
                    isgp: '', //是否挂牌
                    isSameData: [],
                    insuredInfo: {
                        data: {},
                        struct: []
                    }, //被保人
                    insuredListInfo: {
                        data: {},
                        struct: [],
                        values:[{}]
                    }, //附属被保人
                    /**
                     * todo
                     */
                    imageInfo: {
                        dataArray: [],
                        data: {},
                        struct: []
                    },//影像资料



                    isCanChooseBnfType: '', //是否可以选择 切换受益人 Y是 N否
                    bnfType: '1', //不能切换的情况下  指定1  还是 法定  0
                    relationData: [],
                    bnfInfoIndex: 0, //收益人下标
                    bnfInfo: {
                        dataArray: [],
                        data: {},
                        struct: []
                    }, //受益人数据组装
                    accountInfo: {
                        data: {},
                        struct: []
                    }, //账户信息
                    carInfo: {
                        data: {},
                        struct: []
                    }, //车辆信息
                    houseInfo: {
                        data: {},
                        struct: []
                    }, //房屋信息
                    recntInfo: {
                        data: {},
                        struct: []
                    }, //推荐人信息

                    tagsList: [], //标的信息
                    /**** 控制字段 end ****/
                    trialObj: {},
                    disabledPage: false,
                    isAgree: '',
                    agreeButton: '',
                    agreeButtonTwo: '',
                    blackFlag:'',
                    // 附属被保人选择框
                    // 默认值
                    relations: '0',
                    // 所有值
                    paramRelations: [],
                    // 附属被保人
                    assistantRecognizee: [],
                    storeAllList:[],
                    storeList:[]
                },
                showBack: true,
                nameCamera: true,
                tkxz:{
                    isShow:false,//条款须知是否显示
                    zyIsShow: false,//条款须知指引遮罩是否显示
                    active:0,
                    tkxzHtml:"",//条款须知内容
                    tkxzArr:[],//条款须知数组，tkxzTile：标题，tkxzCon：内容
                    tkxzTops:[],//条款须知滚动条位置数组
                    confirmBtn: false//确认同意按钮是否禁用，默认禁用
                },
                showPopover: false,
                wstbShow: true//为谁投保是否显示
            }
        },
        //将字符时间分片拼接赋值
        onAppInit (_this) {

        },
        created () {
            window.imReady= this.imReady;
            this.pageData.saleCode = util.getSessionStorageObj('saleCode');
            console.log("产品编号: "+this.pageData.saleCode)
            // 泰山护身福-家庭版 加载附属被保人和主被保人关系
            if(this.pageData.saleCode == 'TSMOBILE_TSHSF_03'){
                var _this = this;
                relationType().then(function (defer, data){
                    _this.pageData.paramRelations=data
                })
            }
            this.pageInit();
        },
        mounted () {
            this.pageKey();
        },
        methods: {
            pageInit(){
                var _this = this;
                client.trace_point_begin('QDZT', '渠道中台', sessionStorage.getItem("thirdUserId"), sessionStorage.getItem("thirdUserId"), '信息录入','1.0.1', sessionStorage.getItem("saleNameDesc"), '信息录入');//回溯视频
                console.log(util.getSessionStorageObj("accountInfo"));

                //产品列表planCode查详情
                var saleCode = util.getSessionStorageObj('saleCode');

                //TODO 临时业务需要屏蔽保费开始
                if(saleCode == config.config.temp_sale_code){
                    $("#sumPrem").remove();
                    $("#subBtn").parent().css("width","100%");
                    $("#subBtn").text("立即领取").css("width","100%");
                }
                //TODO 临时业务需要屏蔽保费结束


                // 套餐编码
                var plan = util.getSessionStorageObj('setMealCode');
                _this.pageData.saleCode = saleCode;
                var isExemption = util.getSessionStorageObj('isExemption'); //豁免险标识
                //初始化控制参数
                inputConfig({
                    targetId:util.getSessionStorageObj("targetId"),
                    saleCode: _this.pageData.saleCode,
                    isExemption: isExemption,
                    plan:plan,
                    type: sessionStorage.getItem('type'),
                    system: sessionStorage.getItem('system')
                }).then(res => {
                    let data = res.data.content;
                    _this.pageData.saleName = data.saleName; //

                    //控制关系字段
                    _this.pageData.isCanChooseIsSame = data.isCanChooseIsSame; //是否可以选择 投保人和被保人 Y是 N否
                    _this.pageData.sameOneFlag = data.sameOneFlag; //指定的情况下 Y是 N否
                    _this.pageData.isCanChooseBnfType = data.isCanChooseBnfType; //是否可以选择 切换受益人 Y是 N否
                    _this.pageData.bnfType = data.bnfType; //不能切换的情况下  指定1  还是 法定  0
                    //设置关系
                    var sameOneFlag = util.getSessionStorageObj('sameOneFlag');
                    if (sameOneFlag) {
                        _this.pageData.sameOneFlag = sameOneFlag;
                    }

                    //骑行无忧产品设置是否挂牌： 默认是
                    if(data.saleCode && data.saleCode == 'TSMOBILE_SALE_101'){
                        _this.pageData.isgp = "Y";
                    }

                    var bnfType = util.getSessionStorageObj('bnfType'); //不能切换的情况下  指定1  还是 法定  0
                    if (bnfType) {
                        _this.pageData.bnfType = bnfType;
                    }

                    var sumPrem = util.getSessionStorageObj('sumPrem'); //总保费
                    if (sumPrem) {
                        _this.pageData.sumPrem = sumPrem;
                    }
                    //投保人赋值
                    var appntInfoData = util.getSessionStorageObj('appntInfo'); //投保人
                    //投保人
                    _this.pageData.appntInfo = data.appntInfo;
                    if (appntInfoData) {
                        _this.pageData.appntInfo.data = appntInfoData;
                    }
                    //被保人赋值
                    var insuredInfoData = util.getSessionStorageObj('insuredInfo'); //被保人
                    //被保人
                    _this.pageData.insuredInfo = data.insuredInfo;
                    if (insuredInfoData) {
                        _this.pageData.insuredInfo.data = insuredInfoData;
                    }
                    // 附属被保人信息
                    _this.pageData.insuredListInfo =  data.insuredListInfo
                    _this.pageData.insuredListInfo.values = [];
                    // _this.pageData.insuredListInfo.values[0] = {'name':'','idNo':'','relationToInsured':'','index':0};

                    /**
                     * todo
                     */
                        // 影像资料
                    var imageInfoData = util.getSessionStorageObj('imageInfo'); //被保人
                    _this.pageData.imageInfo = data.imageUploadConfig;
                    if (imageInfoData) {
                        _this.pageData.imageInfo.data = imageInfoData;
                    }

                    //受益人赋值
                    var bnfInfoListData = util.getSessionStorageObj('bnfInfoList'); //受益人
                    //受益人
                    _this.pageData.bnfInfo = $.extend(_this.pageData.bnfInfo, data.bnfInfo);
                    if (bnfInfoListData) {
                        _this.pageData.bnfInfo.dataArray = bnfInfoListData;
                    }else {
                        _this.addBnfInfo();
                    }

                    //账户信息
                    var accountInfoData = util.getSessionStorageObj('accountInfo'); //账户信息
                    _this.pageData.accountInfo = data.accountInfo;
                    if (accountInfoData) {
                        _this.pageData.accountInfo.data = accountInfoData;
                    }
                    //车辆信息
                    var carInfoData = util.getSessionStorageObj('carInfo'); //账户信息
                    _this.pageData.carInfo = data.carInfo;
                    if (carInfoData) {
                        _this.pageData.carInfo.data = carInfoData;
                    }
                    //房屋信息
                    var houseInfoData = util.getSessionStorageObj('houseInfo'); //账户信息
                    _this.pageData.houseInfo = data.houseInfo;
                    if (houseInfoData) {
                        _this.pageData.houseInfo.data = houseInfoData;
                    }
                    //推荐人信息
                    var recntInfoData = util.getSessionStorageObj('recntInfo'); //推荐人信息
                    _this.pageData.recntInfo = data.recntInfo;
                    if (recntInfoData) {
                        _this.pageData.recntInfo.data = recntInfoData;
                    }

                    //标的信息
                    var tagsListData = util.getSessionStorageObj('tagsList'); //推荐人信息
                    _this.pageData.tagsList = data.tagsList;

                    var seatCount = util.getSessionStorageObj('seatCount');
                    if (seatCount) {
                        $.each(_this.pageData.tagsList, function (_index, _obj) {
                            _obj['data'].seatcount = seatCount;
                        });
                    }
                    if (tagsListData) {
                        _this.pageData.tagsList = tagsListData;
                    }

                    //根据0663，自动选择对应手术级别
                    if (data.tagsList[0].risk==='0663'){
                        var leveltext = util.getSessionStorageObj('leveltext');
                        if ('一级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='01';
                        }else if ('二级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='02';
                        }else if ('三级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='03';
                        }else if ('四级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='04';
                        } else if ('需审批的重大手术' === leveltext) {
                            _this.pageData.tagsList[0].data.coperativelev='05';
                        }
                    }
                    if (_this.pageData.saleCode == "TSMOBILE_SALE_081"){
                        _this.wstbShow = false;
                        _this.pageData.sameOneFlag = "N";
                        _this.nameCamera = false;
                        _this.queryStoreList();
                        setTimeout(function () {
                            $("input[name='name']:eq(1)").bind("input click",function(){console.log("点击了")
                                _this.showPopover = true;
                                _this.vagueQueryStore(_this.pageData.insuredInfo.data["name"]);
                                // mui('.mui-popover').popover('show',this);

                            });
                            $("input[name='name']:eq(1)").blur(function(){
                                // mui('.mui-popover').popover('hide',this);
                                _this.showPopover = false;
                            })
                        },0)

                    }

                    // 济南借意险
                    if (data.saleCode === 'TSMOBILE_SALE_078') {
                        var loanAmount = util.getSessionStorageObj('loanAmount');
                        _this.pageData.tagsList[0].data.loanAmt = loanAmount;

                        // 结束日期
                        var endsDate = util.getSessionStorageObj('endsDate');
                        // 默认的结束日期
                        var endDate = util.getSessionStorageObj('endDate');
                        if (endsDate !== "" && endsDate !== null) {
                            _this.pageData.tagsList[0].data.backup16 = endsDate;
                        } else {
                            _this.pageData.tagsList[0].data.backup16 = endDate;
                        }
                    }
                    //				 //初始化 配置关系
                    _this.initAppntToInsured();

                    // _this.$.hideMainPageLoader();

                    //监听我已阅读复选框点击事件
                    $("#color-input-red").change(function(){
                        if($(this).is(":checked")){
                            // $("#imReady1").show();
                            // location.href = "#imReady1";
                            //初始化投保须知弹出层
                            _this.initTkxzCon();

                            return false;
                        }
                    });
                    //投保人与被保人关系选择器开始
                    _this.page.relationToAppntlist = data.relationToAppntlist;
                    for (var i = 0; i < data.relationToAppntlist.length; i++){
                        if (data.relationToAppntlist[i].code == "00"){//默认本人
                            _this.pageData.appntInfo.data.relationToInsured=data.relationToAppntlist[i].code;
                            _this.page.relationToInsured = data.relationToAppntlist[i].code;
                        }
                    }
                    if (util.getSessionStorageObj("relationToInsured")){
                        _this.pageData.appntInfo.data.relationToInsured=util.getSessionStorageObj("relationToInsured");
                        _this.page.relationToInsured = util.getSessionStorageObj("relationToInsured");
                    }
                    //投保人与被保人关系选择器结束
                });
                if(localStorage.getItem("pageKey")==1){
                    var agreeButton = util.getSessionStorageObj('agreeButton');
                    _this.pageData.agreeButton = agreeButton;
                }
                var agreeButton = util.getSessionStorageObj('agreeButton');
                //从agreeButtonTwo取出阅读条款，赋值给agreeButton，做显示使用，
                _this.pageData.agreeButton = agreeButton;
                var isAgree = util.getSessionStorageObj('isAgree'); //是否同意
                if (isAgree) {
                    _this.pageData.isAgree = isAgree;
                }
                if (_this.pageData.isAgree) { //同意勾选
                    $("#color-input-red").attr("checked", true);
                }
            },
            queryStoreList(){
                var _this = this;
                queryStoreList({
                    productCode: this.pageData.saleCode
                }).then(response => {
                    var content = response.data.content;
                    if (content!=null){
                        _this.pageData.storeAllList = content;
                        _this.pageData.storeList = _this.pageData.storeAllList;
                    }else {
                    }
                });
            },
            vagueQueryStore(val){
                var stores = [];
                for (var i = 0; i < this.pageData.storeAllList.length; i++){
                    if(this.pageData.storeAllList[i].text.indexOf(val) >= 0){
                        stores.push(this.pageData.storeAllList[i]);
                    }
                }
                this.pageData.storeList = stores;
                if(stores.length==0){
                    this.showPopover = false;
                    this.pageData.insuredInfo.data["idNo"] = "";
                    Notify('亲，所选销售门店不在清单列表内，请重新输入');
                }
            },
            updateNameVal(item){
                console.log("选中的值===》"+JSON.stringify(item))
                this.pageData.insuredInfo.data["name"] = item.text;
                this.pageData.insuredInfo.data["idNo"] = item.value;

            },
            pageKey(){
                //首次进入为空，则刷新
                if(localStorage.getItem("pageKey")==null || localStorage.getItem("pageKey")==0){
                    localStorage.setItem("pageKey",1);
//					window.location.reload();
                    window.location.replace(window.location.href);
                }
            },

            //显示与隐藏
            //点击显示和隐藏
            imReady(id) {
                //创建一个值，当判断不一致的时候，就把上一个关闭，下一个展开，
                if(id==this.blackFlag){
                    var traget=document.getElementById(id);
                    if(traget.style.display=="none"){
                        traget.style.display="";
                    }else{
                        traget.style.display="none";
                    }
                    this.blackFlag='';
                }else {
                    if(this.blackFlag){
                        var traget=document.getElementById(this.blackFlag);
                        if(traget.style.display=="none"){
                            traget.style.display="";
                        }else{
                            traget.style.display="none";
                        }
                        var traget=document.getElementById(id);
                        if(traget.style.display=="none"){
                            traget.style.display="";
                        }else{
                            traget.style.display="none";
                        }
                    }else {
                        var traget=document.getElementById(id);
                        if(traget.style.display=="none"){
                            traget.style.display="";
                        }else{
                            traget.style.display="none";
                        }
                    }
                    this.blackFlag=id;
                }
            },
            // input聚焦时，苹果手机键盘将页面顶高了
            inputChange(item, obj) {
                console.log("输入啦")
                setTimeout(function () {
                    const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;
                    window.scrollTo(0, Math.max(scrollHeight - 1, 0));
                }, 100);
                if (item.code == 'frameno' && obj != '') {
                    if (!compCheck.isRackNoBack5(obj, "你输入的车架号(后五位)格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'licenseno' && obj != '') {
                    if (!compCheck.isLicenseNo(obj, "你输入的车牌号格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'clplate' && obj != '') {
                    if (!compCheck.isLicenseNo(obj, "你输入的车牌号格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'backup2' && obj != '') {
                    if (!compCheck.isRackNo(obj, "你输入的车架号(十七位)不正确")) {
                        return;
                    }
                }
                if (item.code == 'relations') {
                    if (!obj) {
                        Toast("请选择与主保人关系");
                        return;
                    }
                }
                if (item.code == 'IdNum' && obj != '') {
                    if (!compCheck.isIdno(obj, '请输入附属被保人正确的身份证格式！')) {
                        return;
                    }
                }
                if (this.pageData.saleCode == 'TSMOBILE_SALE_043' && item.code == 'licenseno' && obj != '') {
                    var _this = this;
                    var licenseNo=obj.toUpperCase();
                    getFrameno({
                        licenseno: licenseNo
                    }).then(response => {
                        var content = response.data.content;
                        if (content==null){
                            _this.pageData.tagsList[0].data.frameno="";
                        }else {
                            _this.pageData.tagsList[0].data.frameno=content.clsbdh;
                        }
                    });
                }


            },

            //初始化页面的 头被保人关系
            initAppntToInsured() {

                var _this = this;

                if (_this.pageData.isCanChooseIsSame === 'Y') { // 能切换控件

                    _this.pageData.isSameData.push({
                        value: 'Y',
                        text: '是'
                    });
                    _this.pageData.isSameData.push({
                        value: 'N',
                        text: '否'
                    });

                } else {
                    if (_this.pageData.sameOneFlag === 'Y') { //不可以切换  必须是本人
                        _this.pageData.isSameData.push({
                            value: 'Y',
                            text: '是'
                        });
                    } else { //不可以切换  一定不是本人
                        _this.pageData.isSameData.push({
                            value: 'N',
                            text: '否'
                        });
                    }
                }

                if (_this.pageData.isCanChooseBnfType === 'Y') { // 能切换收益人控件

                    _this.pageData.relationData.push({
                        value: '0',
                        text: '法定'
                    });
                    _this.pageData.relationData.push({
                        value: '1',
                        text: '指定'
                    });

                } else {

                    if (_this.pageData.bnfType === '1') { //不可以切换收益人控件  指定受益人
                        _this.pageData.relationData.push({
                            value: '1',
                            text: '指定'
                        });
                    } else { //不可以切换  一定是法定
                        _this.pageData.relationData.push({
                            value: '0',
                            text: '法定'
                        });
                    }

                }
            },
            //根据code寻找 struct 的对象
            findStructByCode(obj, code) {

                var _this = this;
                var returnObj = null;

                $.each(obj.struct, function (_index, _obj) { //循环验证投保人 值是否为空
                    if (_obj.code == code) {
                        returnObj = _obj;
                        return false;
                    }
                });

                return returnObj;
            },

            appntInfoEvent(type, item, obj) {
                var _this = this;
                // input聚焦时，苹果手机键盘将页面顶高了
                console.log("移开啦")
                setTimeout(function () {
                    const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;
                    window.scrollTo(0, Math.max(scrollHeight - 1, 0));
                }, 100);

                console.log(obj)

                if (item.code == 'idNo') {
                    // 默认出生日期和性别不可编辑 edit，0可编辑，1不可编辑
                    var bithdayStruct = _this.findStructByCode(_this.pageData.appntInfo, 'birthday');
                    bithdayStruct.edit = '0';
                    var sexStruct = _this.findStructByCode(_this.pageData.appntInfo, 'sex');
                    sexStruct.edit = '0';

                    var idType = _this.pageData.appntInfo.data['idType'];
                    if (idType == '1' || idType == '12') {
                        if (obj != '' && compCheck.isIdno(obj)) {
                            var birthDay = _this.idNoChangeBirthday(obj);
                            var sex = _this.idNoChangeSex(obj);

                            _this.pageData.appntInfo.data['birthday'] = birthDay;
                            _this.pageData.appntInfo.data['sex'] = sex;
                            bithdayStruct.edit = '1';
                            bithdayStruct.isShow = '0';
                            sexStruct.edit = '1';
                            sexStruct.isShow = '0';
                        } else {
                            bithdayStruct.isShow = '1';
                            sexStruct.isShow = '1';
                        }
                    }
                }
                if (item.code == 'isLongTermValidity') { //如果 是否长期有效

                    var idNoValidityTime = _this.findStructByCode(_this.pageData.appntInfo, 'idNoValidityTime');
                    if (idNoValidityTime) {
                        if (obj.value == 'Y') {
                            //设置有效期时间
                            idNoValidityTime.isShow = '1';
                            idNoValidityTime.isNeed = '0';
                            _this.pageData.appntInfo.data['idNoValidityTime'] = '';
                        } else {
                            idNoValidityTime.isShow = '0';
                            idNoValidityTime.isNeed = '1';
                        }
                    }
                }
                if (item.code == 'name' && obj != '') {
                    if (!compCheck.isName(obj, "你输入的名称格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'mobile' && obj != '') {
                    if (!compCheck.isMobile(obj, "你输入的手机号码格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'email' && obj != '') {
                    if (!compCheck.isEmail(obj, "你输入的电子邮箱格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'addressNo' && obj != '') {
                    if (!compCheck.isAddress(obj, "通讯地址长度不能少于3个汉字")) {
                        return;
                    }
                }




            },

            insuredInfoEvent(type, item, obj) {

                var _this = this;
                if (item.code == 'idNo') {
                    // 默认出生日期和性别可编辑
                    var bithdayStruct = _this.findStructByCode(_this.pageData.insuredInfo, 'birthday');
                    bithdayStruct.edit = '0';
                    var sexStruct = _this.findStructByCode(_this.pageData.insuredInfo, 'sex');
                    sexStruct.edit = '0';

                    var idType = _this.pageData.insuredInfo.data['idType'];
                    if (idType == '1' || idType == '12') {
                        if (obj != '' && compCheck.isIdno(obj)) {
                            var birthDay = _this.idNoChangeBirthday(obj);
                            var sex = _this.idNoChangeSex(obj);

                            _this.pageData.insuredInfo.data['birthday'] = birthDay;
                            _this.pageData.insuredInfo.data['sex'] = sex;
                            bithdayStruct.edit = '1';
                            sexStruct.edit = '1';
                        }
                    }
                }
                if (item.code == 'isLongTermValidity') { //如果 是否长期有效

                    var idNoValidityTime = _this.findStructByCode(_this.pageData.insuredInfo, 'idNoValidityTime');
                    if (idNoValidityTime) {
                        if (obj.value == 'Y') {
                            //设置有效期时间
                            idNoValidityTime.isShow = '1';
                            idNoValidityTime.isNeed = '0';
                            _this.pageData.insuredInfo.data['idNoValidityTime'] = '';
                        } else {
                            idNoValidityTime.isShow = '0';
                            idNoValidityTime.isNeed = '1';
                        }
                    }
                }
                if (item.code == 'name' && obj != '') {
                    if (!compCheck.isName(obj, "你输入的姓名格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'mobile' && obj != '') {
                    if (!compCheck.isMobile(obj, "你输入的手机号码格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'relations') {
                    if (!obj) {
                        Toast("请选择与主保人关系");
                        return;
                    }
                }
                if (item.code == 'IdNum' && obj != '') {
                    if (!compCheck.isIdno(obj, '请输入附属被保人正确的身份证格式！')) {
                        return;
                    }
                }
            },
            bnfInfoEvent(type, item, dataIndex, obj) {

                var _this = this;
                if (item.code == 'idNo') {
                    // 默认出生日期和性别可编辑
                    var bithdayStruct = _this.findStructByCode(_this.pageData.bnfInfo, 'birthday');
                    bithdayStruct.edit = '0';
                    var sexStruct = _this.findStructByCode(_this.pageData.bnfInfo, 'sex');
                    sexStruct.edit = '0';

                    var idType = _this.pageData.bnfInfo.dataArray[dataIndex]['idType'];
                    if (idType == '1' || idType == '12') {
                        if (obj != '' && compCheck.isIdno(obj)) {
                            var birthDay = _this.idNoChangeBirthday(obj);
                            var sex = _this.idNoChangeSex(obj);

                            _this.pageData.bnfInfo.dataArray[dataIndex]['birthday'] = birthDay;
                            _this.pageData.bnfInfo.dataArray[dataIndex]['sex'] = sex;

                            bithdayStruct.edit = '1';
                            sexStruct.edit = '1';
                        }
                    }
                }
                if (item.code == 'isLongTermValidity') { //如果 是否长期有效

                    var idNoValidityTime = _this.findStructByCode(_this.pageData.bnfInfo, 'idNoValidityTime');

                    if (idNoValidityTime) {
                        if (obj.value == 'Y') {
                            //设置有效期时间
                            idNoValidityTime.isShow = '1';
                            idNoValidityTime.isNeed = '0';
                            _this.pageData.bnfInfo.dataArray[dataIndex]['idNoValidityTime'] = '';
                        } else {
                            idNoValidityTime.isShow = '0';
                            idNoValidityTime.isNeed = '1';
                        }
                    }
                }
                if (item.code == 'bnfOrder') {
                    //核算收益人比例 是否位100%
                    var isPass = false
                    var bnfInfoList = _this.pageData.bnfInfo.dataArray;
                    var currentOrderIndex = '';

                    var indexOne = 0;
                    var indexTwo = 0;
                    var indexThree = 0;

                    $.each(bnfInfoList, function (_index, _bnfInfo) {

                        //特殊计算受益人比例        bnfOrder  bnfLot
                        var currentOrder = _bnfInfo['bnfOrderBy'];
                        if (currentOrder == '1') {
                            indexOne++;
                        }
                        if (currentOrder == '2') {
                            indexTwo++
                        }
                        if (currentOrder == '3') {
                            indexThree++;
                        }
                        var allLot = 0;
                        $.each(bnfInfoList, function (_index, _bnfInfo) { //循环验证受益人 值是否为空
                            if (currentOrder == _bnfInfo['bnfOrderBy']) {
                                var bnfLot = _bnfInfo['bnfscale'];
                                allLot = parseInt(allLot) + parseInt(bnfLot);
                            }
                        });

                        console.log('currentOrder:' + currentOrder + ', allLot:' + allLot);

                        if (allLot < 0 || allLot > 100 || allLot != 100) {
                            currentOrderIndex = currentOrder; //第几个受益人
                            isPass = true;
                            return false;
                        }

                    });
                    if (indexOne == 0) {
                        Toast('请先选择第一顺位的受益人');
                        return false;
                    }
                    if (indexOne != 0 && indexTwo == 0 && indexThree != 0) {
                        Toast('请先选择第二顺位的受益人');
                        return false;
                    }
                    if (isPass) { //受益人是否顺序对的 受益人顺序对应的受益比例和不为100%
                        Toast('第' + currentOrderIndex + '顺序受益人对应的受益比例和不为100%！');
                        return false;
                    }
                }
            },

            //是否和被保人是一个人
            relationInfoEvent(item) {

                var _this = this;
                console.log('update sameOneFlag:');
                console.log(item);
                if (_this.pageData.saleCode == "TSMOBILE_SALE_081") {
                    if (item.value == "N") {
                        setTimeout(function () {
                            $("input[name='name']").eq(1).attr("readonly","readonly");
                        }, 0)
                    }
                }
            },
            //是否已挂牌选择事件，设置必填非必填,数据清理
            isgpEvent(val) {
                var _this = this;
                console.log("是否已挂牌选择事件");
                console.log(val);
                //骑行无忧-VIP产品，根据是否挂牌选择显示的标的信息：
                if(_this.pageData.saleCode == "TSMOBILE_SALE_101"){
                    //设置除车牌号的元素非必选：
                    var targetObjs = _this.pageData.tagsList[0].struct;
                    if(targetObjs && targetObjs.length > 0){
                        $.each(targetObjs,function(_index,_aTargetObj){
                            console.log(_index);
                            console.log(_aTargetObj);

                            if('Y' == val){
                                //除了车牌号，其他设置为非必填
                                if(_aTargetObj.code != 'licenseno' && _aTargetObj.code != 'isgp'){
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '0';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '1';
                                    //清空数据：
                                    _this.pageData.tagsList[0].data[_aTargetObj.code] = "";
                                }else{
                                    //车牌号设置为必填，显示
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '1';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '0';
                                }
                            }else{
                                if(_aTargetObj.code == 'licenseno'){
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '0';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '1';
                                    //清空数据：
                                    _this.pageData.tagsList[0].data[_aTargetObj.code] = "";
                                }else{
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '1';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '0';
                                }
                            }
                            if(_aTargetObj.code == 'isgp'){
                                _this.pageData.tagsList[0].struct[_index]['isNeed'] = '0';
                            }
                        })
                    }

                }
            },
            //是否指定受益人
            relationbnfInfoEvent(item) {

                console.log('relationbnfInfoEvent ........');
                //关闭


                var _this = this;
                _this.pageData.bnfInfo.dataArray = [];
                _this.pageData.bnfInfoIndex = 0;
                //打开
                if (_this.pageData.bnfType == '1') {

                    _this.addBnfInfo();

                } else {
                    //关闭
                    _this.pageData.bnfInfo.dataArray = [];
                    _this.pageData.bnfInfoIndex = 0;
                }
            },

            //增加受益人
            addBnfInfo() {

                var _this = this;
                //核算收益人比例 是否位100%
                //       		 	var currentOrderIndex = '';
                //       		 	var ispass=false;
                //       		 	var bnfInfoList = _this.pageData.bnfInfo.dataArray;
                //       		 	$.each(bnfInfoList, function(_index, _bnfInfo){
                //
                //       			  //特殊计算受益人比例        bnfOrder  bnfLot
                //       			  var currentOrder = _bnfInfo['bnfOrderBy'];
                //       			  var allLot = 0;
                //
                //       			  $.each(bnfInfoList, function(_index, _bnfInfo){ //循环验证受益人 值是否为空
                //       				  if(currentOrder == _bnfInfo['bnfOrderBy']){
                //	  					      var bnfLot = _bnfInfo['bnfscale'];
                //	  					      allLot = parseInt(allLot) + parseInt(bnfLot);
                //	  					  }
                //				      });
                //
                //       			  console.log('currentOrder:' + currentOrder +', allLot:' + allLot);
                //
                //       			  if(allLot < 0 || allLot > 100 || allLot != 100){
                //       				  currentOrderIndex = currentOrder;//第几个受益人
                //       				  isPass = true;
                //       				  return false;
                //	  			  }
                //
                //       		 	});
                //
                //       		 	if(isPass){ //受益人是否顺序对的 受益人顺序对应的受益比例和不为100%
                //				     Toast('第'+currentOrderIndex+'顺序受益人对应的受益比例和不为100%！');
                //	        		 return false;
                //	        	 }
                _this.pageData.bnfInfo.dataArray.push($.extend({}, _this.pageData.bnfInfo.data));
                _this.pageData.bnfInfoIndex++;

            },
            //删除受益人
            removeBnfInfo(index) {

                var _this = this;
                var lengthBnf = _this.pageData.bnfInfo.dataArray.length;
                //存在就操作
                if (lengthBnf > 1) {
                    _this.pageData.bnfInfo.dataArray.splice(index, 1);
                } else {
                    _this.pageData.bnfType = '0';
                    _this.pageData.bnfInfo.dataArray.splice(index, 1);
                }
                _this.pageData.bnfInfoIndex--;

            },

            verifyAppntInfo(appntData, element,sameOneFlag,isNeed) {
                console.log("verifyAppntInfo------" + element);
                if (appntData && element) {

                    if (element == 'mobile') { //手机

                        return compCheck.isMobile(appntData[element], '请输入投保人正确的手机号！');

                    } else if (element == 'email') { //邮箱
                        console.log(isNeed);
                        //获取到电子邮箱是否是必填项，如果是必填项就验证，否则就不验证
                        if(isNeed == '1'){
                            return compCheck.isEmail(appntData[element], '请输入投保人正确的邮箱！');
                        }


                    } else if (element == 'stature') { //身高

                        return compCheck.isPlus(appntData[element], '请输入投保人正确的身高（cm）！');

                    }
                    // else if(element == 'addressNo'){//地址

                    // 	return compCheck.isAddress(appntData[element], '投保人通讯地址长度不能少于5个汉字,或特殊字符！');

                    // }
                    else if (element == 'companyName') { //单位名称

                        return compCheck.isCompanyName(appntData[element], '投保人单位名称长度不能少于8个汉字,或特殊字符！');

                    } else if (element == 'avoirdupois') { //体重

                        return compCheck.isPlus(appntData[element], '请输入投保人正确的体重（kg）！');

                    } else if (element == 'zip') { //邮政编码

                        return compCheck.isCheckZip(appntData[element], '请输入投保人正确的邮政编码！');

                    } else if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型

                        if (appntData['idType'] == '1' || appntData['idType'] == '12') {
                            return compCheck.isIdno(appntData[element], '请输入投保人正确的身份证格式！');
                        } else if (appntData['idType'] == '23' ) {
                            return compCheck.checkTaxId(appntData[element], '请输入正确的统一社会信用代码格式！');
                        } else {
                            // //非身份证情况不允许被保人同投保人
                            // if (sameOneFlag == 'Y'){
                            // 	Toast("证件类型非身份证时被保人不支持同投保人");
                            //     return false;
                            // }else{
                            // 	return true;
                            // }
                            return true;
                        }
                    }

                }

                return true;

            },
            datedifference(sDate1, sDate2) {    //sDate1和sDate2是2006-12-18格式
                var dateSpan,
                    tempDate,
                    iDays;
                sDate1 = Date.parse(sDate1);
                sDate2 = Date.parse(sDate2);
                dateSpan = sDate2 - sDate1;
                dateSpan = Math.abs(dateSpan);
                iDays = Math.floor(dateSpan / (24 * 3600 * 1000));
                return iDays
            },
            judgeAge(birthday){
                var date = util.getSessionStorageObj('startDate');
                if(date == ""){
                    date = date = util.getSessionStorageObj('beginDate');
                }
                if(_this.datedifference(date,birthday) > 30){
                    Toast('被保人不能小于30天!');
                    isPass = true;
                    return;
                }
            },
            verifytagsList(tagsData, element) {
                console.log("verifyAppntInfo------" + element);
                if (tagsData && element) {
                    if (element == 'frameno') { //车架号
                        return compCheck.isRackNoBack5(tagsData[element], '请输入正确的车架号(后五位)！');
                    } else if (element == 'licenseno') { //车牌号
                        return compCheck.isLicenseNo(tagsData[element], '请输入正确的车牌号！');
                    }else if (element == 'clplate'){
                        return compCheck.isLicenseNo(tagsData[element], '请输入正确的车牌号！');
                    }else if (element == 'backup2'){
                        return compCheck.isRackNo(tagsData[element], '你输入的车架号(十七位)不正确');
                    }
                }
                return true;
            },


            verifyInsuredInfo(insuredData, element) {

                console.log('verifyInsuredInfo>>>' + element);

                if (insuredData && element) {

                    if (element == 'mobile') { //手机

                        return compCheck.isMobile(insuredData[element], '请输入被保人正确的手机号！');

                    } else if (element == 'email') { //邮箱

                        return compCheck.isEmail(insuredData[element], '请输入被保人正确的邮箱！');

                    } else if (element == 'stature') { //身高

                        return compCheck.isPlus(insuredData[element], '请输入被保人正确的身高（cm）！');

                    }
                    // else if(element == 'addressNo'){//地址

                    // 	return compCheck.isAddress(insuredData[element], '被保人通讯地址长度不能少于5个汉字,或特殊字符！');

                    // }
                    else if (element == 'companyName') { //单位名称

                        return compCheck.isCompanyName(insuredData[element], '被保人单位名称长度不能少于8个汉字,或特殊字符！');

                    } else if (element == 'avoirdupois') { //体重

                        return compCheck.isPlus(insuredData[element], '请输入被保人正确的体重（kg）！');

                    } else if (element == 'zip') { //邮政编码

                        return compCheck.isCheckZip(insuredData[element], '请输入被保人正确的邮政编码！');

                    } else if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型

                        if (insuredData['idType'] == '1' || insuredData['idType'] == '12') {
                            return compCheck.isIdno(insuredData[element], '请输入被保人正确的身份证格式！');
                        } else {
                            return true;
                        }

                    }
                }

                return true;

            },

            verifyBnfInfo(bnfInfoData, element) {

                console.log('verifyBnfInfo>>>' + element);

                if (bnfInfoData && element) {

                    if (element == 'bnfLot') { //受益比例

                        return compCheck.isPlus(bnfInfoData[element], '请输入正确的受益比例！');

                    } else if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型

                        if (bnfInfoData['idType'] == '1' || bnfInfoData['idType'] == '12') {
                            return compCheck.isIdno(bnfInfoData[element], '请输入受益人正确的身份证格式！');
                        } else {
                            return true;
                        }
                    }
                }

                return true;

            },
            verifyAccountInfo(accountData, element) {
                console.log('verifyAccountInfo>>>' + element);
                if (accountData && element) {
                    if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型
                        if (accountData['idType'] == '1' || accountData['idType'] == '12') {
                            return compCheck.isIdno(accountData[element], '请输入账户信息正确的身份证格式！');
                        } else {
                            return true;
                        }

                    }
                }

                return true;

            },
            //通过身份证更改生日
            idNoChangeBirthday(idNo) {
                var _this = this;
                var len = idNo.length;
                console.log("进入了")
                //身份证15位时，次序为省（3位）市（3位）年（2位）月（2位）日（2位）校验位（3位），皆为数字
                if(len == '15') {
                    console.log("进入了2")
                    var re_fifteen = /^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/;
                    var arr_data_o = idNo.match(re_fifteen);
                    var year_o = arr_data_o[2];
                    var month_o = arr_data_o[3];
                    var day_o = arr_data_o[4];
                    var birthday_o = '19' + year_o + '-' + month_o + '-' + day_o;
                    return birthday_o;
                }

                //身份证18位时，次序为省（3位）市（3位）年（4位）月（2位）日（2位）校验位（4位），校验位末尾可能为X
                if(len == '18') {
                    var re_eighteen = /^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;
                    var arr_data = idNo.match(re_eighteen);
                    var year = arr_data[2];
                    var month = arr_data[3];
                    var day = arr_data[4];
                    var birthday = year + '-' + month + '-' + day;
                    return birthday;
                }

                // var birthday = idNo.substring(6, 10) + "-" + idNo.substring(10, 12) + "-" + idNo.substring(12, 14);
                // return birthday;
            },
            //通过身份证更改性别
            idNoChangeSex(idNo) {
                var _this = this;
                var len = idNo.length;
                //身份证15位时，次序为省（3位）市（3位）年（2位）月（2位）日（2位）校验位（3位），皆为数字
                if(len == '15') {
                    var sexChange = idNo.substring(14, 15);
                    var sex = '';
                    if (sexChange % 2 == 0) { //女
                        sex = '1';
                    } else {
                        //男
                        sex = '0';
                    }
                    return sex;
                }

                //身份证18位时，次序为省（3位）市（3位）年（4位）月（2位）日（2位）校验位（4位），校验位末尾可能为X
                if(len == '18') {
                    var sexChange = idNo.substring(16, 17);
                    var sex = '';
                    if (sexChange % 2 == 0) { //女
                        sex = '1';
                    } else {
                        //男
                        sex = '0';
                    }
                    return sex;
                }
            },
            //四舍五入 num数 v保留几位小数
            decimal(num, v) {
                var vv = Math.pow(10, v);
                return Math.round(num * vv) / vv;
            },
            //根据生日计算年龄
            birthdayToage(bir) {
                var birthday = new Date(bir.replace(/-/g, "\/"));
                var d = new Date();
                var age = d.getFullYear() - birthday.getFullYear() - ((d.getMonth() < birthday.getMonth() || d.getMonth() == birthday.getMonth() && d.getDate() < birthday.getDate()) ? 1 : 0);
                return age;
            },
            //下一步提交
            nextInsureInput() {

                localStorage.setItem("pageKey",0);
                //暂存  数据到session
                var _this = this;
                //验证数据是否可以下一步
                var isPass = false;

                if (_this.pageData.agreeButton) {
                    if (!$('#color-input-red').is(':checked')) {
                        Toast('请先阅读上述投保须知等内容，同意并勾选相关承诺');
                        $(".content").css('-webkit-overflow-scrolling', 'auto'); //ios当手指从触摸屏上移开，滚动会立即停止
                        // 使滚动条滚动到指定div位置
                        var offset = $('.agree')[0].offsetTop;
                        $('.content').scrollTop(offset);
                        $(".content").css('-webkit-overflow-scrolling', 'touch'); //ios当手指从触摸屏上移开，滚动会继续滑动
                        return;
                    } else {
                        _this.pageData.isAgree = true;
                    }
                }
                //验证tagsList
                var tagsList = _this.pageData.tagsList[0]; //tagsList
                var tagsData = _this.pageData.tagsList[0].data; //tagsList数据

                var tagsListDown = '';

                /**
                 * todo
                 * 判断投保面积是否在保险面积范围内
                 */
                if (tagsData!=undefined && tagsData.cehtarea!=undefined &&tagsData.cehtarea){
                    var ar = util.getSessionStorageObj('salePlanInfo').data.area;
                    var area = ar.split('-');
                    if (!compCheck.isarea(area,parseInt(tagsData.cehtarea), "投保面积不在选择保险面积范围内")) {
                        return false;
                    }
                }

                $.each(tagsList.struct, function (_index, _obj) { //循环验证tagsList 值是否为空
                    if (_obj.isNeed == '1') { //需要 验证是否为空
                        console.log('tagsList参数[' + _obj.name + ']需要验证');
                        var val = tagsList.data[_obj.code];
                        console.log('tagsList参数[' + _obj.name + ']需要验证,值为:' + val);
                        if (null == val || '' == val) {
                            console.log('tagsList参数[' + _index + ']是空!!!');
                            tagsListDown = _obj.name;
                            isPass = true;
                            return false;
                        }
                    }

                    var _rt = _this.verifytagsList(tagsList.data, _obj.code);

                    if (!_rt) { //如果没通过
                        tagsListDown = '';
                        isPass = true;
                        return false;
                    }

                });


                if (isPass) { //tagsList是否有的值为空
                    if (tagsListDown) {
                        Toast('请选择或录入投保人' + tagsListDown + '信息！');
                    }
                    return false;
                }

                //验证投保人
                var appntInfo = _this.pageData.appntInfo; //投保人
                var appntData = _this.pageData.appntInfo.data; //投保人数据
                var sameOneFlag = _this.pageData.sameOneFlag; //被保人同投保人选项

                var appntInfoDown = '';

                $.each(appntInfo.struct, function (_index, _obj) { //循环验证投保人 值是否为空
                    if(util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_102' || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_112'
                        || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_113'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_114'
                            || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_115'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_116') {
                        if(sameOneFlag == "Y"){
                            if(_obj.name == '出生日期'){
                                var date = util.getSessionStorageObj('startDate');
                                if(date == ""){
                                    date = date = util.getSessionStorageObj('beginDate');
                                }
                                if(_this.datedifference(date,appntInfo.data[_obj.code]) < 30){
                                    Toast('被亲，您好！保单起保时，被保险人年龄未满30天，不符合线上投保条件，请重新填写');
                                    isPass = true;
                                    return;
                                }
                            }
                        }
                    }
                    if (_obj.isNeed == '1') { //需要 验证是否为空
                        console.log('投保人参数[' + _obj.name + ']需要验证');
                        var val = appntInfo.data[_obj.code];
                        console.log('投保人参数[' + _obj.name + ']需要验证,值为:' + val);
                        if (null == val || '' == val) {
                            console.log('投保人参数[' + _index + ']是空!!!');
                            appntInfoDown = _obj.name;
                            isPass = true;
                            return false;
                        }
                    }

                    var _rt = _this.verifyAppntInfo(appntInfo.data, _obj.code,sameOneFlag,_obj.isNeed);

                    if (!_rt) { //如果没通过
                        appntInfoDown = '';
                        isPass = true;
                        return false;
                    }

                });


                if (isPass) { //被保人是否有的值为空
                    if (appntInfoDown) {
                        Toast('请选择或录入投保人' + appntInfoDown + '信息！');
                    }
                    return false;
                }


                //判断被保人
                //非本人情况
                if (_this.pageData.sameOneFlag == 'N') {
                    var insuredInfo = _this.pageData.insuredInfo; //被保人
                    var insuredData = _this.pageData.insuredInfo.data; //投保人数据

                    var insuredInfoDown = '';

                    $.each(insuredInfo.struct, function (_index, _obj) { //循环验证投保人 值是否为空
                        if(util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_102' || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_112'
                            || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_113'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_114'
                                || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_115'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_116') {
                            if (_obj.name == '出生日期') {
                                var date = util.getSessionStorageObj('startDate');
                                if (date == "") {
                                    date = util.getSessionStorageObj('beginDate');
                                }
                                if (_this.datedifference(date, appntInfo.data[_obj.code]) < 30) {
                                    Toast('亲，您好！保单起保时，被保险人年龄未满30天，不符合线上投保条件，请重新填写');
                                    isPass = true;
                                    return;
                                }
                            }
                        }
                        if (_obj.isNeed == '1') { //需要 验证是否为空
                            console.log('被保人参数[' + _obj.name + ']需要验证');
                            var val = insuredInfo.data[_obj.code];
                            console.log('被保人参数[' + _obj.name + ']需要验证,值为:' + val);
                            if (null == val || '' == val) {
                                console.log('被保人参数[' + _index + ']是空!!!');
                                insuredInfoDown = _obj.name;
                                isPass = true;
                                return false;
                            }
                        }

                        //存在需要校监的 函数 verifyInsuredInfo
                        var _rt = _this.verifyInsuredInfo(insuredInfo.data, _obj.code);

                        if (!_rt) { //如果没通过
                            insuredInfoDown = '';
                            isPass = true;
                            return false;
                        }

                    });

                    if (isPass) { //被保人是否有的值为空
                        if (insuredInfoDown) {
                            if (_this.pageData.saleCode == "TSMOBILE_SALE_081" && insuredInfoDown == "客户代码"){
                                Toast('亲，所选销售门店不在清单列表内，请重新输入！');
                                return false;
                            }
                            Toast('请选择或录入被保人' + insuredInfoDown + '信息！');
                        }
                        return false;
                    }

                }else{
                    var tbrgx =  util.getSessionStorageObj('tbrgx');
                    if(tbrgx == "1") {
                        _this.pageData.insuredInfo.data.relationToAppnt = "00";
                    }

                }
                //	        	 _this.trial();

                //判断受益人
                //指定收益人
                if (_this.pageData.bnfType == '1') {

                    var bnfInfo = _this.pageData.bnfInfo;
                    var bnfInfoList = _this.pageData.bnfInfo.dataArray;

                    var bnfInfoDown = '';
                    var bnfInfoIndex = '';

                    $.each(bnfInfoList, function (_index, _bnfInfo) {
                        //每个受益人
                        var bnfInfoData = _bnfInfo;

                        if (isPass) {
                            return false;
                        }

                        $.each(bnfInfo.struct, function (__index, _obj) { //循环验证受益人 值是否为空

                            if (_obj.isNeed == '1') { //需要 验证是否为空
                                console.log('受益人参数[' + _obj.name + ']需要验证');
                                var val = _bnfInfo[_obj.code];
                                console.log('受益人参数[' + _obj.name + ']需要验证,值为:' + val);
                                if (null == val || '' == val) {
                                    console.log('受益人参数[' + _index + ']是空!!!');
                                    bnfInfoIndex = (_index + 1); //第几个受益人
                                    bnfInfoDown = _obj.name;
                                    isPass = true;
                                    return false;
                                }
                            }

                            //存在需要校监的 函数 verifyBnfInfo
                            var _rt = _this.verifyBnfInfo(bnfInfoData, _obj.code);

                            if (!_rt) { //如果没通过
                                bnfInfoDown = '';
                                isPass = true;
                                return false;
                            }

                        });

                    });

                    if (isPass) { //受益人是否有的值为空
                        if (bnfInfoDown) {
                            Toast('请选择或录入第' + bnfInfoIndex + '位受益人【' + bnfInfoDown + '】信息！');
                        }
                        return false;
                    }
                    //核算收益人比例 是否位100%
                    var currentOrderIndex = '';

                    var indexOne = 0;
                    var indexTwo = 0;
                    var indexThree = 0;

                    $.each(bnfInfoList, function (_index, _bnfInfo) {
                        var currentOrder = _bnfInfo['bnfOrderBy'];
                        if (currentOrder == '1') {
                            indexOne++;
                        }
                        if (currentOrder == '2') {
                            indexTwo++
                        }
                        if (currentOrder == '3') {
                            indexThree++;
                        }

                    });
                    if (indexOne == 0) {
                        Toast('请先选择第一顺位的受益人');
                        return false;
                    }
                    if (indexOne != 0 && indexTwo == 0 && indexThree != 0) {
                        Toast('请先选择第二顺位的受益人');
                        return false;
                    }

                    var allLot = 0;
                    $.each(bnfInfoList, function (_index, _bnfInfo) { //循环验证受益人 值是否为空
                        var bnfLot = _bnfInfo['bnfscale'];
                        allLot = parseInt(allLot) + parseInt(bnfLot);
                    });

                    console.log('合计受益比例和: ' + allLot);

                    if (allLot < 0 || allLot > 100 || allLot != 100) {
                        Toast('受益人对应的受益比例和不为100%！');
                        return false;
                    }
                }


                //本人情况  赋值数据到 被保人
                if (_this.pageData.sameOneFlag == 'Y') {

                    var appntInfoData = _this.pageData.appntInfo.data;
                    var appntInfoDataStruct = _this.pageData.appntInfo.struct;

                    var insuredInfoData = _this.pageData.insuredInfo.data; //被保人

                    $.each(appntInfoDataStruct, function (_index, _obj) { //循环验证投保人 值是否为空
                        if (appntInfoData[_obj.code]) {
                            insuredInfoData[_obj.code] = appntInfoData[_obj.code];
                        }
                    });
                }

                if (isPass) { //被保人是否有的值为空
                    if (accountInfoDown) {
                        Toast('请选择或录入账户信息' + accountInfoDown + '信息！');
                    }
                    return false;
                }
                // 校验附属被保人信息
                if(this.pageData.insuredListInfo && this.pageData.insuredListInfo.values && this.pageData.insuredListInfo.values.length > 0){
                    var errorMes;
                    $.each(this.pageData.insuredListInfo.values, function (index, item) {
                        if (!item.relationToInsured){
                            errorMes = "请选择附属被保人"+(index+1)+"与被保人关系";
                        }else if (!item.name){
                            errorMes = "请输入附属被保人"+(index+1)+"名称"
                        }else if (!item.idNo){
                            errorMes = "请输入附属被保人"+(index+1)+"身份证号码"
                        }else {
                            errorMes = null;
                        }
                    });
                    if (errorMes){
                        Toast(errorMes);
                        return false;
                    }
                }

                _this.pageData.disabledPage = true;

                //结束录屏
                client.trace_point_end();

                util.setSessionStorageObj('sumPrem', _this.pageData.sumPrem); //总保费

                //存储
                util.setSessionStorageObj('saleName', _this.pageData.saleName); //销售计划名称

                util.setSessionStorageObj('appntInfo', _this.pageData.appntInfo.data); //投保人

                util.setSessionStorageObj('sameOneFlag', _this.pageData.sameOneFlag); //指定的情况下 Y是 N否
                util.setSessionStorageObj('insuredInfo', _this.pageData.insuredInfo.data); //被保人

                util.setSessionStorageObj('bnfType', _this.pageData.bnfType); //不能切换的情况下  指定1  还是 法定  0
                util.setSessionStorageObj('bnfInfoList', _this.pageData.bnfInfo.dataArray); //受益人列表
                util.setSessionStorageObj('imageInfo', _this.pageData.imageInfo.dataArray); //受益人列表

                if (_this.pageData.carInfo) {
                    util.setSessionStorageObj('carInfo', _this.pageData.carInfo.data); //车辆信息
                }
                if (_this.pageData.houseInfo) {
                    util.setSessionStorageObj('houseInfo', _this.pageData.houseInfo.data); //房屋信息
                }
                if (_this.pageData.accountInfo) {
                    util.setSessionStorageObj('accountInfo', _this.pageData.accountInfo.data); //账户
                }
                util.setSessionStorageObj('recntInfo', _this.pageData.recntInfo.data); //推荐人

                if (_this.pageData.tagsList) {
                    util.setSessionStorageObj('tagsList', _this.pageData.tagsList); //标的信息
                }

                var saveObj = {};
                saveObj.orderNo = util.getSessionStorageObj('orderNo'); //订单号
                if(util.getSessionStorageObj('salesManNo')){
                    saveObj.salesManNo =  util.getSessionStorageObj('salesManNo');
                }
                if(util.getSessionStorageObj('referrerNo')){
                    saveObj.referrerNo =  util.getSessionStorageObj('referrerNo');
                }
                saveObj.appntInfo = util.getSessionStorageObj('appntInfo'); //投保人
                saveObj.sameOneFlag = util.getSessionStorageObj('sameOneFlag'); //是否投保人本人
                saveObj.sumPrem = util.getSessionStorageObj('sumPrem');
                saveObj.insuredInfo = util.getSessionStorageObj('insuredInfo'); //被保人
                saveObj.carInfo = util.getSessionStorageObj('carInfo'); //车辆信息
                saveObj.houseInfo = util.getSessionStorageObj('houseInfo'); //房屋信息
                saveObj.accountInfo = util.getSessionStorageObj('accountInfo'); //账户
                saveObj.recntInfo = util.getSessionStorageObj('recntInfo'); //账户


                saveObj.saleCode = util.getSessionStorageObj('saleCode'); //销售计划code
                saveObj.setMealCode = util.getSessionStorageObj('setMealCode'); //套餐选项
                saveObj.insuYearUnit = util.getSessionStorageObj('insuYearUnit'); //保险期间
                saveObj.startDate = util.getSessionStorageObj('startDate'); //保险起期
                saveObj.salePlanInfo = util.getSessionStorageObj('salePlanInfo'); //销售计划大对象

                saveObj.bnfType = util.getSessionStorageObj('bnfType'); //受益人类型
                saveObj.bnfInfoList = util.getSessionStorageObj('bnfInfoList'); //受益人列表
                saveObj.saleCode = _this.pageData.saleCode; //销售code
                saveObj.saleName = _this.pageData.saleName; //销售计划名称
                saveObj.riskInfo = {};
                saveObj.riskInfo.mainRiskList = util.getSessionStorageObj('readyMainRiskList');
                saveObj.riskInfo.addRiskList = util.getSessionStorageObj('readyAddRiskList');

                saveObj.tagsList = util.getSessionStorageObj('tagsList');
                saveObj.imageInfo = util.getSessionStorageObj('imageInfo'); //文件列表
                saveObj.prodPlanVersion = util.getSessionStorageObj('prodPlanVersion');//方案版本号
                // 济南借意险
                if (saveObj.saleCode === 'TSMOBILE_SALE_078') {
                    var dateJson = new Object();
                    dateJson.text = saveObj.tagsList[0].data.backup16;
                    dateJson.value = saveObj.tagsList[0].data.backup16;
                    saveObj.tagsList[0].data.backup16 = dateJson;

                    // 填入的保险起期
                    var startDate = util.getSessionStorageObj('startDate');
                    // 默认的保险起期
                    var beginDate = util.getSessionStorageObj('beginDate');
                    var date = null;
                    if (startDate !== "" && startDate !== null) {
                        date = startDate;
                    } else if (beginDate !== "" && beginDate !== null) {
                        // 078产品默认是明天00点生效，beginDate传过来默认是今天，最终传核心默认是明天00点

                        date = new Date();
                        date.setDate(new Date(beginDate).getDate() + Number(1));
                        console.log("---date---:"+date);
                        var y = date.getFullYear();//获取完整的年份(4位,1970-????)
                        var m = date.getMonth() + 1;//获取当前月份(0-11,0代表1月)
                        if (m <= 9) m = "0" + m;
                        var d = date.getDate();
                        if (d <= 9) d = "0" + d;
                        date = y + "-" + m + "-" + d;
                        console.log("beginDate:"+date);
                    }

                    if (date !== "" && date !== null) {

                        // 校验贷款发放日期不能晚于保险起期
                        console.log("贷款发放日期："+JSON.stringify(saveObj.tagsList[0].data.backup17));
                        console.log("贷款发放日期："+saveObj.tagsList[0].data.backup17.value);
                        console.log("date："+date);
                        if (saveObj.tagsList[0].data.backup17 != null && saveObj.tagsList[0].data.backup17 != "") {
                            console.log("进来了呀------：");
                            if (saveObj.tagsList[0].data.backup17.value > date) {
                                console.log("1："+saveObj.tagsList[0].data.backup17.value);
                                console.log("2："+date);
                                return Toast("贷款发放时间不能晚于起保日期！");
                            }

                        }

                    }

                }

                // 附属被保人信息
                // if(this.pageData.saleCode == 'TSMOBILE_TSHSF_03'){
                // 	saveObj.tagsList=[{'data':{},'risk':'0656'}];
                // 	saveObj.tagsList[0].data.memberModelList = this.pageData.assistantRecognizee
                // 	let relationToInsured = pageData.insuredListInfo.data.relationToInsured;
                // 	let name = pageData.insuredListInfo.data.name;
                // 	let idNo = pageData.insuredListInfo.data.idNo;
                // }

                // 附属被保人信息
                if(this.pageData.insuredListInfo && this.pageData.insuredListInfo.values && this.pageData.insuredListInfo.values.length>0){
                    saveObj.tagsList[0].data.memberModelList = this.pageData.assistantRecognizee
                    for (var i = 0; i < this.pageData.insuredListInfo.values.length; i++) {
                        var val = this.pageData.insuredListInfo.values[i];
                        var memberModelListElement = {};
                        saveObj.tagsList[0].data.memberModelList[i]=memberModelListElement
                        memberModelListElement['relCde']=val['relationToInsured'];
                        memberModelListElement['memberName']=val['name'];
                        memberModelListElement['certfCde']=val['idNo'];
                        // 身份证类型
                        memberModelListElement['certfCls'] = '01';
                        memberModelListElement['SeqNo'] = i + 1;
                    }
                }
                //设置被保人一般健康告知书结果：
                //默认被保人健康告知书结果对象“0”属性为一般健康告知书，一般健康告知书为其他属性的特殊配置
                var insuredImpartInfo = util.getSessionStorageObj("impartInfo");
                if(insuredImpartInfo){
                    if(insuredImpartInfo['0'] && insuredImpartInfo['0']['result'] == '1'){
                        saveObj['inform'] = '0';
                    }
                    if(saveObj.saleCode === 'TSMOBILE_TSHSF_14'){
                        saveObj['inform'] = '1';
                        if(insuredImpartInfo['1'] && insuredImpartInfo['1']['result'] == '1'){
                            saveObj['inform'] = '0';
                        }
                    }
                }
                saveObj.system = sessionStorage.getItem('system');
                saveObj.type = sessionStorage.getItem('type');
                inputSave(saveObj).then(response => {
                    var data = response.data.content;
                    //TODO 临时业务需要需要直接跳转到结果页开始
                    if (data.result != '1'){
                        if(_this.pageData.saleCode == config.config.temp_sale_code){
                            _this.$router.push({
                                name: 'paymentResultTemp', query: {
                                    businessNo: data.insOrderNo
                                }
                            })
                            // util.goPage('../insure/paymentResultTemp.vue?businessNo=' + data.insOrderNo);
                            return false;
                        }
                    }
                    //TODO 临时业务需要直接跳转到结果页结束



                    if (data.result == '1') {
                        Toast(data.resultMessage,null,5000);
                    } else if (data.result == 'isWaitPay') {
                        if (data.payUrl != null) {
                            // util.goPage(data.payUrl,{location:true});
                            _this.fobidden_back();

                            Dialog.confirm({
                                title: '提示',
                                message: '当前订单已经核保请勿重复核保,请按原始订单支付或重新出单！',
                                confirmButtonText:"重新出单",
                                cancelButtonText:"继续支付"
                            })
                                .then(() => {
                                    // on confirm
                                    _this.enable_back();
                                    //清除session
                                    sessionStorage.clear();
                                    setTimeout(function () {
                                        // window.history.back();
                                        _this.$router.go(-2);
                                    },300)

                                    setTimeout(function () {
                                        location.reload();
                                    },800)
                                })
                                .catch(() => {//继续支付
                                    // on cancel
                                    _this.enable_back();
                                    window.open(data.payUrl,'_self')
                                });

                            /*mui.confirm('当前订单已经核保请勿重复核保,请按原始订单支付或重新出单！', '提示', ['继续支付','重新出单'], function(e) {
								_this.enable_back();
								if (e.index == 1) {
									//清除session
									sessionStorage.clear();
									setTimeout(function () {
										window.history.back();
									},300)

									setTimeout(function () {
										location.reload();
									},800)
								} else {//继续支付
									util.goPage(data.payUrl,{location:true});
								}
							})*/
                        } else {
                            _this.$router.push({
                                name: 'insurePayment', query: {
                                    saleCode: _this.pageData.saleCode, insuranceOrderNo: data.insOrderNo
                                }
                            })
                            // util.goPage('../insure/insurePayment.vue?saleCode=' + _this.pageData.saleCode + '&insuranceOrderNo=' + data.insOrderNo);
                        }
                    } else {
                        util.setSessionStorageObj('orderNo', data.insOrderNo);

                        //util.goPage('../insure/insurePayment.vue?saleCode=' + _this.pageData.saleCode + '&insuranceOrderNo=' + data.insOrderNo+'&flags='+1);


                        if(data.seeFeeFlag=='0'){
                            //直接显示
                            this.$router.push({
                                name: 'paymentResult', query: {
                                    saleCode: _this.pageData.saleCode,
                                    insuranceOrderNo: data.insOrderNo,
                                    flags:+1
                                }
                            })
                            // util.goPage('./paymentResult.vue?saleCode='+_this.pageData.saleCode+'&insuranceOrderNo='+data.insOrderNo+'&flags='+1);
                        }else {
                            if (data.payUrl != null) {
                                window.open(data.payUrl, '_self')
                                // util.goPage(data.payUrl,{location:true});
                            } else {
                                this.$router.push({name:"insurePayment", query:{saleCode:_this.pageData.saleCode,insuranceOrderNo:data.insOrderNo}})
                                // util.goPage('../insure/insurePayment.vue?saleCode=' + _this.pageData.saleCode + '&insuranceOrderNo=' + data.insOrderNo);
                            }
                        }
                    }
                });
            },
            //禁用浏览器返回
            fobidden_back() {
                //防止页面后退
                history.pushState(null, null, document.URL);
                window.addEventListener('popstate',this.back_common)
            },
            //启用浏览器返回
            enable_back() {
                history.go(-1);
                window.removeEventListener('popstate',this.back_common)
            },
            back_common() {
                history.pushState(null, null, document.URL);
            },
            changeImag(ids,types){

                // var URL = config.config.self_h5_server_url;
                var image = document.getElementById(ids);
                var files=document.getElementById(ids).value;
                var imageBase64 = document.getElementById(ids).files[0];
//						var url = "http://10.1.70.128:9004/car-restful/car/upload/uploadFile"
// 				var url = URL+"/uploadFile";
                var forms = new FormData();
                forms.append('file',document.getElementById(ids).files[0]);
                uploadFile(forms).then(res=>{
                    console.log(res)
                    if(res.data.code==0){
                        if(res.data.content.result==0){
                            this.ToBase64(imageBase64,ids);
                            Toast('上传成功');
                            this.pageData.imageInfo.dataArray.push(res.data.content.imageUrl);
                        }
                    }else {
                        Toast('上传失败，请检查网络或联系管理员');
                    }
                })
            },
            /**
             *
             * @param elementId 文件元素ID
             * @param showListObj 显示图片列表的数组对象
             * @param showTextObj 显示识别后文字的对象
             */
            ocrRecognitionHandler(elementId,showListObj,showTextObj){
                // var URL = config.config.self_h5_server_url;
                var imageBase64 = document.getElementById(elementId).files[0];
                if (!imageBase64){
                    Toast('未选择文件!');
                    return;
                }
                // $.showIndicator();

                // setTimeout(function () {
                // 	$.hideIndicator();
                // }, 16000);

                var forms = new FormData();
                forms.append('multipartFile',imageBase64);
                uploadFileOrc(forms).then(res=>{
                    console.log("文件上传响应信息: ",res)
                    if(res.data.code==0){
                        if(res.data.content.result==0){
                            // todo 1.清空原来的信息
                            if (showTextObj){
                                showTextObj.name=""
                                showTextObj.idNo="";
                                showTextObj.birthday="";
                                showTextObj.sex="";
                            }
                            if(res.data.content.name || res.data.content.id_number){
                                Toast('身份证识别成功, 请确认信息是否完整或正确!');
                                // todo 3.显示识别的文字
                                showTextObj.name=res.data.content.name;
                                showTextObj.idNo=res.data.content.id_number;
                                showTextObj.birthday=this.idNoChangeBirthday(showTextObj.idNo);
                                showTextObj.sex = this.idNoChangeSex(showTextObj.idNo);
                                this.$forceUpdate()
                            }else {
                                Toast('图片识别失败, 请上传高清图片重新识别!');
                            }

                        }else {
                            if (res.data.content.resultMessage){
                                Toast(res.data.content.resultMessage);
                            }else {
                                Toast('图片识别失败, 请上传高清图片重新识别!');
                            }
                        }
                    }else {
                        Toast('上传失败，请检查网络或联系管理员');
                    }
                })
            },
            ToBase64(image,typeid) {
                var reader = new FileReader()
                reader.readAsDataURL(image);
                reader.onload = () => {
                    console.log('file 转 base64结果：' + reader.result);
                    if(typeid == "file_1"){
                        this.file_1.push(reader.result);
                    }

                }
                reader.onerror = function (error) {
                    console.log('Error: ', error)
                }
            },
            removeRecognizee(index){
                this.pageData.insuredListInfo.values.splice(index,1);
                this.$forceUpdate()
            },
            addRecognizee(){
                this.pageData.insuredListInfo.values.push({});
                this.$forceUpdate()
                // this.pageData.assistantRecognizee.push({
                // 	'SeqNo':this.pageData.assistantRecognizee.length + 1,
                // 	'certfCls':'01',
                // 	'relCde':this.pageData.paramRelations[0].value});
            },
            selectInsuredRelationship(val){
                var  relationToAppnt;
                var _this = this;
                if(val == "00"){//本人
                    _this.pageData.sameOneFlag = "Y";
                }else{
                    _this.pageData.sameOneFlag = "N";
                }
                _this.pageData.appntInfo.data.relationToInsured=val;


                _this.page.relationToInsured = val;
                util.setSessionStorageObj("relationToInsured", val);
                util.setSessionStorageObj('sameOneFlag', _this.pageData.sameOneFlag); //指定的情况下 Y是 N否

                var tbrgx =  util.getSessionStorageObj('tbrgx');
                if(tbrgx == "1"){
                    if(val == "00"){
                        _this.pageData.insuredInfo.data.relationToAppnt=val;
                    }else if(val == "01"){
                        _this.pageData.insuredInfo.data.relationToAppnt=val;
                    }else if(val == "02"){
                        _this.pageData.insuredInfo.data.relationToAppnt="03";
                    } else if(val == "03"){
                        _this.pageData.insuredInfo.data.relationToAppnt="02";
                    }
                }
            },
            tkxzSwitch(index){
                this.tkxz.mui_active = index;
                //设置滚动条高度
                mui('.mui-scroll-wrapper').scroll().scrollTo(0,this.tkxz.tkxzTops[index],1000);//100毫秒滚动到顶
            },
            initTkxzCon(){
                $(".insure-input-content").scrollTop(0)
                var _this = this;
                _this.tkxz.isShow = true;
                _this.tkxz.tkxzHtml = util.getSessionStorageObj('tkxzObj').tabsContent;
                _this.tkxz.confirmBtn = false;
                setTimeout(function () {
                    var _tempTkxzArr = [];
                    $(".one-left").each(function(i, item){
                        var obj = new Object({tkxzTile:"",tkxzCon:""});
                        _tempTkxzArr.push(obj);
                        _tempTkxzArr[i].tkxzTile=$(item).text().replace("《","").replace("》","");
                    });
                    _this.tkxz.tkxzArr = _tempTkxzArr;
                    $("[id^='toubaoxuzhi']").each(function (i, item) {
                        _this.tkxz.tkxzArr[i].tkxzCon=$(item).html();
                    });
                },0);
            },
            closeTkxzCon(){
                this.tkxz.isShow = false;
                $("#color-input-red").prop("checked", false);
            },
            confirmTkxzCon(){
                this.tkxz.isShow=false;
                $("#subBtn").text("已全部阅读，前往支付").css("font-size","16px");
            },
            //滚动条触发事件
            scrollEvent(e) {
                if (e.srcElement.scrollHeight- (e.srcElement.scrollTop + e.srcElement.clientHeight) < 10 ) {
                    this.tkxz.confirmBtn = true;
                    console.log("嘿嘿我在底部触发了")
                }
            },
            onClickLeft () {
                this.$router.go(-1);
            }
        }
    }
</script>
<style  src="@/assets/less/app/base/sm.css" scoped>
</style>
<style  lang="less" scoped>
    //@import "~@/assets/css/iconfont.css";
    @import "~@/assets/less/app/base/iconfont.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/iconfont.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/public.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/button.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/sm.css?rev=e6e7d3056545b5f40aa82b44a30061e8";

    @import "~@assets/less/app/product/insureInput.less";

    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/rangeslider.css?rev=c2332a22ff57670815a74f20339b85f1";

    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/main.css?rev=1226df45e08c2dc7ae62796490787aa7";
    @import "~@/assets/less/app/base/main.css";
    h4 {
        text-align: left;
        font-weight: bold;
        margin: 0.7rem 0px 0.5rem !important;
        font-size: 0.85rem;
    }

    .button.button-big {
        font-size: 1rem;
    }
    .button-customer-h5 {
        border-color: #f1a900;
        color: #f1a900;
        background-color: #ffffff;
    }
    .button.button-big {
        font-size: 1rem;
    }
    .footer-fixd-bottom .button-total {
        border-radius: 0;
        height: 45rem;
        line-height: 2.5;
        border-color: #ffffff;
        border-left: 0;
        color: #000;
    }

    .price {
        flex: 1.5;
        color: #fb7125 !important;
        font-size: 22px;
    }
    .bg-violet{
        background: #444577;
        color: #ffffff;
    }
</style>
<style>
    .van-popover__action {
        width: 90% !important;
        box-sizing: inherit;
    }
    .van-popover__action-text {
        justify-content: left;
        width: 100%;
    }
    .wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
    }
</style><template>
    <div class="page-group">

        <div class="page page-current">

            <header v-if="showBack" class="bar-nav">
                <van-nav-bar title="保单录入"
                             :border="false"
                             :fixed="true">
                    <template #left>
                        <van-icon name="arrow-left"
                                  color="#3B3B3B"
                                  size="20"
                                  @click="onClickLeft" />
                    </template>
                </van-nav-bar>
            </header>

            <!-- <div class="content insure-input-content" style="bottom: 2.5rem;"
				v-bind:style="{ 'pointer-events': pageData.disabledPage? 'none' : '' }"> -->

            <div class="content insure-input-content"
                 @scroll="scrollEvent"
                 style="bottom: 2.5rem;background-color: #fafafa">

                <!-- 投保人信息 -->
                <div class="appntInfo-title">
                    <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>投保人信息</h4>
                </div>
                <div class="appntInfo-div">
                    <div class="list-block">
                        <ul>
                            <li v-for="(item, index) in pageData.appntInfo.struct"
                                :key="index"
                                v-if="item.isShow === '0'"
                                class="item-content h5-item-content"
                                :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                <template v-if="item.type === 'input'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <!--<div class="item-input">
											<input type="text" :placeholder="item.holder" :name="item.code"
												v-on:blur="appntInfoEvent('input', item, $event.target.value)"
												v-model.trim='pageData.appntInfo.data[item.code]'>
											<template v-if="item.code == 'name'">
												<span class="camera-text">身份识别</span>
												<img class="camera-img" width="30%" src="data:image/png;base64,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"/>
												<input class="camera-img-file"  type="file" name='file' accept="image/*" @change="ocrRecognitionHandler('applicant',imgContainer.applicant,pageData.appntInfo.data)" id="applicant"/>
											</template>
										</div>-->
                                        <!--										<template v-if="item.edit == '0' || item.edit == 'N'">-->
                                        <!--											<div class="item-input">-->
                                        <!--												<input type="text"-->
                                        <!--													   readonly="readonly"-->
                                        <!--													   :placeholder="item.holder"-->
                                        <!--													   :name="item.code"-->
                                        <!--													   v-on:blur="appntInfoEvent('input', item, $event.target.value)"-->
                                        <!--												>-->
                                        <!--											</div>-->
                                        <!--										</template>-->
                                        <template>
                                            <!--<div class="item-input" v-if="item.code == 'name'">
												<van-popover
														v-model="showPopover"
														:actions="pageData.storeList"
														theme="dark"
														@select="updateNameVal"
												>
													<template #reference>
														<input type="text"
															   :placeholder="item.holder"
															   :name="item.code"
															   v-on:blur="appntInfoEvent('input', item, $event.target.value)"
															   v-model.trim='pageData.appntInfo.data[item.code]'>
														<template v-if="item.code == 'name' && nameCamera">
															<span class="camera-text">身份识别</span>
															<img class="camera-img" width="30%" src="data:image/png;base64,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"/>
															<input class="camera-img-file"
																   type="file"
																   name='file'
																   accept="image/*"
																   @change="ocrRecognitionHandler('applicant',imgContainer.applicant,pageData.appntInfo.data)"
																   id="applicant"/>
														</template>
													</template>
												</van-popover>
											</div>-->
                                            <div class="item-input">
                                                <input type="text"
                                                       :readonly="item.edit == '0' || item.edit == 'N'"
                                                       :placeholder="item.holder"
                                                       :name="item.code"
                                                       v-on:blur="appntInfoEvent('input', item, $event.target.value)"
                                                       v-model.trim='pageData.appntInfo.data[item.code]'>
                                                <template v-if="item.code == 'name' && nameCamera">
                                                    <span class="camera-text">身份识别</span>
                                                    <img class="camera-img" width="30%" src="data:image/png;base64,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"/>
                                                    <input class="camera-img-file"
                                                           type="file"
                                                           name='file'
                                                           accept="image/*"
                                                           @change="ocrRecognitionHandler('applicant',imgContainer.applicant,pageData.appntInfo.data)"
                                                           id="applicant"/>
                                                </template>
                                            </div>
                                        </template>
                                    </div>
                                </template>
                                <template v-if="item.type === 'number'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">
                                            <input type="number"
                                                   :placeholder="item.holder"
                                                   :name="item.code"
                                                   v-on:blur="appntInfoEvent('number', item, $event.target.value)"
                                                   v-model.trim='pageData.appntInfo.data[item.code]'>
                                        </div>
                                    </div>
                                </template>
                                <template v-else-if="item.type === 'select'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <!--<div class="item-input">

											<eg-data-picker :value="pageData.appntInfo.data[item.code]" :placeholder="item.holder"
												:params="item.data" :edit="item.edit" @input="pageData.appntInfo.data[item.code] = $event.value"
												@change="appntInfoEvent('select', item, $event)">
											</eg-data-picker>

										</div>-->
                                        <template v-if="item.isEdit == '0' || item.isEdit == 'N'">
                                            <div class="item-input">

                                                <eg-data-picker :value="pageData.appntInfo.data[item.code]"
                                                                readonly="readonly"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.appntInfo.data[item.code] = $event.value"
                                                                @change="appntInfoEvent('select', item, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </template>
                                        <template v-else>
                                            <div class="item-input">

                                                <eg-data-picker :value="pageData.appntInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.appntInfo.data[item.code] = $event.value"
                                                                @change="appntInfoEvent('select', item, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </template>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'radio'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="pageData.appntInfo.data[item.code]"
                                                             :data="item.data"
                                                             @input="pageData.appntInfo.data[item.code] = $event.value"
                                                             @change="appntInfoEvent('radio', item, $event)">
                                            </eg-data-checker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'date'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-date-picker :type="'date'"
                                                            :placeholder="item.holder"
                                                            class="birthdayDate"
                                                            :value="pageData.appntInfo.data[item.code]"
                                                            :min-date="item.data.minDate"
                                                            :max-date="item.data.maxDate"
                                                            :edit="item.edit"
                                                            @input="pageData.appntInfo.data[item.code] = $event.value"
                                                            @change="appntInfoEvent('date', item, $event)">
                                            </eg-date-picker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'stack'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-stack-picker :value="pageData.appntInfo.data[item.code]"
                                                             :params="item.data"
                                                             :title="item.holder"
                                                             :placeholder="item.holder"
                                                             @input="pageData.appntInfo.data[item.code] = $event.value"
                                                             @change="appntInfoEvent('stack', item, $event)">
                                            </eg-stack-picker>

                                        </div>
                                    </div>
                                </template>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- 被保人信息 -->
                <div class="insuredInfo-title">
                    <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>被保人信息</h4>
                </div>
                <div class="insuredInfo-div">
                    <div class="list-block">
                        <ul>
                            <li class="item-content h5-item-content" v-if="wstbShow">
                                <div class="item-inner h5-item-inner">
                                    <!--<div class="item-title label" style="width: 55%;">与投保人是否同一人</div>
									<div class="item-input" style="float: right;">

										<eg-data-checker style="text-align: right; width:100%;"
														 :check-val="pageData.sameOneFlag"
														 :data="pageData.isSameData"
														 @input="pageData.sameOneFlag = $event.value"
														 @click="relationInfoEvent($event)">
										</eg-data-checker>

									</div>-->
                                    <div class="item-title label">为谁投保</div>
                                    <div class="item-input" style="float: right;">
                                        <div  style="text-align: left">
                                            <template v-if="pageData.saleCode != 'TSMOBILE_SALE_115' && pageData.saleCode != 'TSMOBILE_SALE_116'">
                                                <van-button type="default" v-for="(item, index) in page.relationToAppntlist"
                                                            v-if="index < 4" size="mini" style="margin-right: 5px;" :value="item.code"
                                                            :class="{'bg-violet':item.code==page.relationToInsured}"
                                                            @click="selectInsuredRelationship(item.code)"
                                                >{{item.value}}</van-button>
                                            </template>
                                            <template v-if="pageData.saleCode == 'TSMOBILE_SALE_115' || pageData.saleCode == 'TSMOBILE_SALE_116'">
                                                <van-button type="default" v-for="(item, index) in page.relationToAppntlist"
                                                            v-if="item.code == '00' || item.code == '02'" size="mini" style="margin-right: 5px;" :value="item.code"
                                                            :class="{'bg-violet':item.code==page.relationToInsured}"
                                                            @click="selectInsuredRelationship(item.code)"
                                                >{{item.value}}</van-button>
                                            </template>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <template v-if="pageData.sameOneFlag == 'N'">
                                <li v-for="(item, index) in pageData.insuredInfo.struct"
                                    v-if="item.isShow === '0'"
                                    class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">
                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <!--<div class="item-input">
												<input type="text" :placeholder="item.holder" :name="item.code"
													v-on:blur="insuredInfoEvent('input', item, $event.target.value)"
													v-model.trim='pageData.insuredInfo.data[item.code]'
													v-on:blur="inputChange(item, $event.target.value)">

												<template v-if="item.code == 'name'">
													<span class="camera-text">身份识别</span>
													<img class="camera-img" width="30%" src="data:image/png;base64,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"/>
													<input class="camera-img-file" type="file" name='file' accept="image/*" @change="ocrRecognitionHandler('recognizee',imgContainer.recognizee,pageData.insuredInfo.data)"  id="recognizee"/>
												</template>
											</div>-->

                                            <template v-if="item.edit == '0' || item.edit == 'N'">
                                                <div class="item-input">
                                                    <input type="text"
                                                           readonly="readonly"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"/>
                                                </div>
                                            </template>
                                            <template v-else>
                                                <div class="item-input" v-if="item.code == 'name'">
                                                    <van-popover
                                                            v-model="showPopover"
                                                            :actions="pageData.storeList"
                                                            theme="dark"
                                                            @select="updateNameVal"
                                                    >
                                                        <template #reference>
                                                            <input type="text"
                                                                   :placeholder="item.holder"
                                                                   :name="item.code"
                                                                   v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"
                                                                   v-model.trim='pageData.insuredInfo.data[item.code]'>
                                                            <template v-if="item.code == 'name' && nameCamera">
                                                                <span class="camera-text">身份识别</span>
                                                                <img class="camera-img"
                                                                     width="30%"
                                                                     src="data:image/png;base64,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"/>
                                                                <input class="camera-img-file"
                                                                       type="file"
                                                                       name='file'
                                                                       accept="image/*"
                                                                       @change="ocrRecognitionHandler('recognizee',imgContainer.recognizee,pageData.insuredInfo.data)"
                                                                       id="recognizee"/>
                                                            </template>
                                                        </template>
                                                    </van-popover>
                                                </div>
                                                <div class="item-input" v-else>
                                                    <input type="text"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"
                                                           v-model.trim='pageData.insuredInfo.data[item.code]'>
                                                    <template v-if="item.code == 'name' && nameCamera">
                                                        <span class="camera-text">身份识别</span>
                                                        <img class="camera-img"
                                                             width="30%"
                                                             src="data:image/png;base64,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"/>
                                                        <input class="camera-img-file"
                                                               type="file"
                                                               name='file'
                                                               accept="image/*"
                                                               @change="ocrRecognitionHandler('recognizee',imgContainer.recognizee,pageData.insuredInfo.data)"
                                                               id="recognizee"/>
                                                    </template>
                                                </div>
                                            </template>

                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.code"
                                                       v-on:blur="insuredInfoEvent('number', item, $event.target.value),inputChange(item, $event.target.value)"
                                                       v-model.trim='pageData.insuredInfo.data[item.code]'>
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-data-picker :value="pageData.insuredInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                @change="insuredInfoEvent('select', item, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'radio'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <eg-data-checker style="text-align: right; width:100%;"
                                                                 :check-val="pageData.insuredInfo.data[item.code]"
                                                                 :data="item.data"
                                                                 @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                 @change="insuredInfoEvent('radio', item, $event)">
                                                </eg-data-checker>
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :value="pageData.insuredInfo.data[item.code]"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                :edit="item.edit"
                                                                @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                @change="insuredInfoEvent('date', item, $event)">
                                                </eg-date-picker>
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'stack'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <eg-stack-picker :value="pageData.insuredInfo.data[item.code]"
                                                                 :params="item.data"
                                                                 :title="item.holder"
                                                                 :placeholder="item.holder"
                                                                 @input="pageData.insuredInfo.data[item.code] = $event.value"
                                                                 @change="insuredInfoEvent('stack', item, $event)">
                                                </eg-stack-picker>
                                            </div>
                                        </div>
                                    </template>
                                </li>
                            </template>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--附属被保人-->
                <template v-if="pageData.insuredListInfo">
                    <div class="insuredInfo-div">
                        <div class="list-block">
                            <ul  v-for="(val, inx) in pageData.insuredListInfo.values">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner h5-item-inner-add-risk">
                                        <div class="item-title fwb">
                                            &nbsp;附属被保人{{inx+1}}
                                        </div>
                                        <div class="item-after">
                                            <a @click="removeRecognizee(inx)"
                                               class="button button-fill button-warning">删 除</a>
                                        </div>
                                    </div>
                                </li>
                                <template>
                                    <li v-for="(item, index) in pageData.insuredListInfo.struct"
                                        v-if="item.isShow === '0'"
                                        class="item-content h5-item-content"
                                        :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                        <template v-if="item.type === 'input'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <input type="text"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('input', item, $event.target.value),inputChange(item, $event.target.value)"
                                                           v-model.trim='pageData.insuredListInfo.values[inx][item.code]'>
                                                    <template v-if="item.code == 'name'">
                                                        <span class="camera-text">身份识别</span>
                                                        <img class="camera-img"
                                                             width="30%"
                                                             src="data:image/png;base64,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"/>
                                                        <input class="camera-img-file"
                                                               type="file"
                                                               name='file'
                                                               accept="image/*"
                                                               @change="ocrRecognitionHandler('insuredListInfo'+inx,imgContainer.DependentInsured[inx],pageData.insuredListInfo.values[inx])"
                                                               :id="'insuredListInfo'+inx"/>
                                                    </template>
                                                </div>
                                            </div>
                                        </template>
                                        <template v-if="item.type === 'number'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <input type="number"
                                                           :placeholder="item.holder"
                                                           :name="item.code"
                                                           v-on:blur="insuredInfoEvent('number', item, $event.target.value),inputChange(item, $event.target.value)"
                                                           v-model.trim='pageData.insuredListInfo.values[inx][item.code]'>
                                                </div>
                                            </div>
                                        </template>
                                        <template v-else-if="item.type === 'select'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">

                                                    <eg-data-picker :value="pageData.insuredInfo.data[item.code]"
                                                                    :placeholder="item.holder"
                                                                    :params="item.data"
                                                                    :edit="item.edit"
                                                                    @input="pageData.insuredListInfo.values[inx][item.code] = $event.value"
                                                                    @change="insuredInfoEvent('select', item, $event)">
                                                    </eg-data-picker>

                                                </div>
                                            </div>
                                        </template>
                                    </li>
                                </template>
                                </li>
                            </ul>
                        </div>
                    </div>

                </template>

                <div class="insuredInfo-div"
                     v-if="pageData.insuredListInfo && pageData.insuredListInfo.struct.length>0 && pageData.insuredListInfo.values.length<5">
                    <div class="list-block">
                        <ul class="bnfInfo-input-add-button no-gap">
                            <li class="item-content h5-item-content">
                                <div class="item-inner h5-item-inner" style="padding-left: 10%; padding-right: 10%;">
                                    <div class="item-title label" style="width: 100%;">
                                        <a @click="addRecognizee"
                                           class="button button-customer-h5 button-customer-verificode">
                                            +添加附属被保人
                                        </a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!--附属被保人-->
                <!--<template v-if="pageData.insuredListInfo">-->
                <!--	&lt;!&ndash;附属被保人&ndash;&gt;-->
                <!--	<div class="insuredInfo-div" v-for="(item , index) in pageData.assistantRecognizee" :key="item.seqNo">-->
                <!--		<div class="list-block">-->
                <!--			<ul>-->

                <!--				<li class="item-content h5-item-content item-link">-->
                <!--					<template>-->
                <!--						<div class="item-inner h5-item-inner">-->
                <!--							<div class="item-title label">-->
                <!--								与主保人关系-->
                <!--								<span style="color: red;">*</span>-->
                <!--							</div>-->
                <!--							<div class="item-input">-->
                <!--								<eg-data-picker :value="pageData.paramRelations[0].value" :params="pageData.paramRelations"-->
                <!--												placeholder="请选择与主保人关系"-->
                <!--												@input="item.relCde = $event.value"-->
                <!--												@change="insuredInfoEvent('select', {'code':'relations'}, $event)">-->
                <!--								</eg-data-picker>-->
                <!--							</div>-->
                <!--						</div>-->
                <!--					</template>-->
                <!--				</li>-->
                <!--				<li class="item-content h5-item-content">-->
                <!--					<template>-->
                <!--						<div class="item-inner h5-item-inner h5-item-inner-link">-->
                <!--							<div class="item-title label">-->
                <!--								姓名-->
                <!--								<span style="color: red;">*</span>-->
                <!--							</div>-->
                <!--							<div class="item-input">-->
                <!--								<input type="text" placeholder="请输入姓名"-->
                <!--									   v-on:blur="insuredInfoEvent('input', {'code':'name'}, $event.target.value)"-->
                <!--									   v-model="item.memberName"-->
                <!--									   v-on:blur="inputChange( {'code':'relations'}, $event.target.value)">-->
                <!--							</div>-->
                <!--						</div>-->
                <!--					</template>-->
                <!--				</li>-->
                <!--				<li class="item-content h5-item-content">-->
                <!--					<template>-->
                <!--						<div class="item-inner h5-item-inner h5-item-inner-link">-->
                <!--							<div class="item-title label">-->
                <!--								身份证号-->
                <!--								<span style="color: red;">*</span>-->
                <!--							</div>-->
                <!--							<div class="item-input">-->
                <!--								<input type="text" placeholder="请输入身份证号"-->
                <!--									   v-on:blur="insuredInfoEvent('number', {'code':'IdNum'}, $event.target.value)"-->
                <!--									   v-model.trim="item.certfCde"-->
                <!--									   v-on:blur="inputChange( {'code':'IdNum'}, $event.target.value)">-->
                <!--							</div>-->
                <!--						</div>-->
                <!--					</template>-->
                <!--				</li>-->
                <!--			</ul>-->
                <!--		</div>-->
                <!--	</div>-->


                <!--</template>-->

                <!-- 受益人信息 -->
                <div class="bnfInfo-title" style="display: none">
                    <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>受益人信息</h4>
                </div>
                <div class="bnfInfo-div" style="display: none">
                    <div class="list-block">
                        <ul>
                            <template v-if="pageData.isCanChooseBnfType === 'N'">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label" style="width: 55%;">受益人类型</div>
                                        <div class="item-input" style="float: right;">

                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="pageData.bnfType"
                                                             :data="pageData.relationData"
                                                             @input="pageData.bnfType = $event.value"
                                                             @click="relationbnfInfoEvent($event)">
                                            </eg-data-checker>
                                        </div>
                                    </div>
                                </li>
                            </template>
                            <template v-if="pageData.isCanChooseBnfType === 'Y'">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label" style="width: 55%;">是否指定受益人</div>
                                        <div class="item-input" style="float: right;">
                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="pageData.bnfType"
                                                             :data="pageData.relationData"
                                                             @input="pageData.bnfType = $event.value"
                                                             @click="relationbnfInfoEvent($event)">
                                            </eg-data-checker>
                                        </div>
                                    </div>
                                </li>
                            </template>
                        </ul>
                    </div>

                    <div v-if="pageData.bnfType=='1'" class="list-block">


                        <ul class="no-gap" v-for="(itemData, dataIndex) in pageData.bnfInfo.dataArray">

                            <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                                <li class="item-content h5-item-content">
                                    <div class="item-inner h5-item-inner h5-item-inner-add-risk">
                                        <div class="item-title fwb">
                                            &nbsp;
                                        </div>
                                        <div class="item-after">
                                            <a @click="removeBnfInfo(dataIndex)" class="button button-fill button-warning">删 除</a>
                                        </div>
                                    </div>
                                </li>
                            </template>

                            <li v-for="(item, index) in pageData.bnfInfo.struct"
                                v-if="item.isShow === '0'"
                                :key="index"
                                class="item-content h5-item-content"
                                :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                <template v-if="item.type === 'input'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">

                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">
                                            <input type="text"
                                                   :placeholder="item.holder"
                                                   :name="item.code"
                                                   v-on:blur="bnfInfoEvent('input', item, dataIndex, $event.target.value),inputChange(item, $event.target.value)"
                                                   v-model.trim='itemData[item.code]'>
                                        </div>

                                    </div>
                                </template>

                                <template v-else-if="item.type === 'select'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-data-picker :value="itemData[item.code]"
                                                            :placeholder="item.holder"
                                                            :params="item.data"
                                                            :edit="item.edit"
                                                            @input="itemData[item.code] = $event.value"
                                                            @change="bnfInfoEvent('select', item, dataIndex, $event)">
                                            </eg-data-picker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'radio'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-data-checker style="text-align: right; width:100%;"
                                                             :check-val="itemData[item.code]"
                                                             :data="item.data"
                                                             @input="itemData[item.code] = $event.value"
                                                             @change="bnfInfoEvent('radio', item, dataIndex, $event)">
                                            </eg-data-checker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'date'">
                                    <div class="item-inner h5-item-inner h5-item-inner-link">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-date-picker :type="'date'"
                                                            :placeholder="item.holder"
                                                            class="birthdayDate"
                                                            :value="itemData[item.code]"
                                                            :min-date="item.data.minDate"
                                                            :max-date="item.data.maxDate"
                                                            :edit="item.edit"
                                                            @input="itemData[item.code] = $event.value"
                                                            @change="bnfInfoEvent('date', item, dataIndex, $event)">
                                            </eg-date-picker>

                                        </div>
                                    </div>
                                </template>

                                <template v-else-if="item.type === 'stack'">
                                    <div class="item-inner h5-item-inner">
                                        <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                        <div class="item-input">

                                            <eg-stack-picker :value="itemData[item.code]"
                                                             :params="item.data"
                                                             :title="item.holder"
                                                             :placeholder="item.holder"
                                                             @input="itemData[item.code] = $event.value"
                                                             @change="bnfInfoEvent('stack', item, dataIndex, $event)">
                                            </eg-stack-picker>

                                        </div>
                                    </div>
                                </template>

                            </li>

                        </ul>


                        <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                            <template v-if="pageData.bnfInfoIndex <= 2">
                                <ul class="bnfInfo-input-add-button no-gap">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner" style="padding-left: 10%; padding-right: 10%;">
                                            <div class="item-title label" style="width: 100%;">
                                                <a @click="addBnfInfo()" class="button button-customer-h5 button-customer-verificode">
                                                    +增加受益人
                                                </a>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </template>
                        </template>

                    </div>

                </div>
                <template v-if="pageData.saleCode == 'TSMOBILE_SALE_102'">
                    <!-- 受益人信息 -->
                    <div class="bnfInfo-title" >
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;"><span></span>受益人信息</h4>
                    </div>
                    <div class="bnfInfo-div" >
                        <div class="list-block">
                            <ul>
                                <template v-if="pageData.isCanChooseBnfType === 'N'">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label" style="width: 55%;">受益人类型</div>
                                            <div class="item-input" style="float: right;">

                                                <eg-data-checker style="text-align: right; width:100%;" :check-val="pageData.bnfType"
                                                                 :data="pageData.relationData" @input="pageData.bnfType = $event.value"
                                                                 @click="relationbnfInfoEvent($event)">
                                                </eg-data-checker>
                                            </div>
                                        </div>
                                    </li>
                                </template>
                                <template v-if="pageData.isCanChooseBnfType === 'Y'">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label" style="width: 55%;">是否指定受益人</div>
                                            <div class="item-input" style="float: right;">
                                                <eg-data-checker style="text-align: right; width:100%;" :check-val="pageData.bnfType"
                                                                 :data="pageData.relationData" @input="pageData.bnfType = $event.value"
                                                                 @click="relationbnfInfoEvent($event)">
                                                </eg-data-checker>
                                            </div>
                                        </div>
                                    </li>
                                </template>
                            </ul>
                        </div>

                        <div v-if="pageData.bnfType=='1'" class="list-block">


                            <ul class="no-gap" v-for="(itemData, dataIndex) in pageData.bnfInfo.dataArray">

                                <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                                    <li class="item-content h5-item-content">
                                        <div class="item-inner h5-item-inner h5-item-inner-add-risk">
                                            <div class="item-title fwb">
                                                &nbsp;
                                            </div>
                                            <div class="item-after">
                                                <a @click="removeBnfInfo(dataIndex)" class="button button-fill button-warning">删 除</a>
                                            </div>
                                        </div>
                                    </li>
                                </template>

                                <li v-for="(item, index) in pageData.bnfInfo.struct" v-if="item.isShow === '0'"
                                    class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">

                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="text" :placeholder="item.holder" :name="item.code"
                                                       v-on:blur="bnfInfoEvent('input', item, dataIndex, $event.target.value),inputChange(item, $event.target.value)"
                                                       v-model.trim='itemData[item.code]'>
                                            </div>

                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-data-picker :value="itemData[item.code]" :placeholder="item.holder" :params="item.data"
                                                                :edit="item.edit" @input="itemData[item.code] = $event.value"
                                                                @change="bnfInfoEvent('select', item, dataIndex, $event)">
                                                </eg-data-picker>

                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'radio'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-data-checker style="text-align: right; width:100%;" :check-val="itemData[item.code]"
                                                                 :data="item.data" @input="itemData[item.code] = $event.value"
                                                                 @change="bnfInfoEvent('radio', item, dataIndex, $event)">
                                                </eg-data-checker>

                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'" :placeholder="item.holder" class="birthdayDate"
                                                                :value="itemData[item.code]" :min-date="item.data.minDate" :max-date="item.data.maxDate"
                                                                :edit="item.edit" @input="itemData[item.code] = $event.value"
                                                                @change="bnfInfoEvent('date', item, dataIndex, $event)">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'stack'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-stack-picker :value="itemData[item.code]" :params="item.data" :title="item.holder"
                                                                 :placeholder="item.holder" @input="itemData[item.code] = $event.value"
                                                                 @change="bnfInfoEvent('stack', item, dataIndex, $event)">
                                                </eg-stack-picker>

                                            </div>
                                        </div>
                                    </template>

                                </li>

                            </ul>


                            <template v-if="pageData.saleCode != 'TSMOBILE_SALE_024'">
                                <template v-if="pageData.bnfInfoIndex <= 2">
                                    <ul class="bnfInfo-input-add-button no-gap">
                                        <li class="item-content h5-item-content">
                                            <div class="item-inner h5-item-inner" style="padding-left: 10%; padding-right: 10%;">
                                                <div class="item-title label" style="width: 100%;">
                                                    <a @click="addBnfInfo()" class="button button-customer-h5 button-customer-verificode">
                                                        +增加受益人
                                                    </a>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </template>
                            </template>

                        </div>

                    </div>
                </template>
                <!-- 影像信息  -->
                <template v-if="pageData.imageInfo && pageData.imageInfo.struct && pageData.imageInfo.struct.length>0">
                    <div class="recntinfo-title">
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;"><span></span>影像信息</h4>
                    </div>
                    <div class="carinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.imageInfo.struct"
                                    class="item-content h5-item-content"
                                    :key="index"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'file'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>


                                            <!-- <div class="item-input" v-if="item.code==='name'||item.code==='idNo'">
												<input type="text" :placeholder="item.holder" :name="item.name"
													   v-model='pageData.imageInfo.data[item.code]'
													   v-on:blur="inputChange()">
											</div>
											<div class="item-input" v-else>
												<input type="text" :placeholder="item.holder" :name="item.name"
													   v-model='pageData.imageInfo.data[item.code]'
													   v-on:blur="inputChange()">
											</div>-->
                                            <div class="list-block">
                                                <ul style="padding-left: 0rem;">
                                                    <li class="item-content">
                                                        <div class="item-inner">
                                                            <div class="upload">
                                                                <div style="display: grid;" class="upload-box" >
                                                                    <div style="border:1px solid #000;display:inline-block;"  >
                                                                        <div style="display:inline;padding-right: 8pt"
                                                                             v-for="(item, index) in file_1"
                                                                             :key="index"
                                                                             v-show="file_1">
                                                                            <img  class="pre-img-temp"
                                                                                  style="height: 6rem; border-radius:0.4rem;"
                                                                                  :src="item"/>
                                                                        </div>
                                                                    </div>
                                                                    <div style="border:1px solid #000;display:inline-block;"
                                                                         class="upload-card" >
                                                                        <input type="text"
                                                                               name="billType"
                                                                               value="Idcard"
                                                                               style="display: none;" />
                                                                        <input type="file"
                                                                               name='file'
                                                                               accept="image/*"
                                                                               @change="changeImag('file_1','Idcard')"
                                                                               class="upload-card-file"
                                                                               id="file_1"
                                                                               :src="file_1"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>

                                        </div>
                                    </template>

                                </li>
                            </ul>
                        </div>
                    </div>
                </template>
                <!-- 推荐人信息 -->
                <template v-if="pageData.recntInfo && pageData.recntInfo.struct && pageData.recntInfo.struct.length>0">
                    <div class="recntinfo-title">
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;"><span></span>推荐人信息</h4>
                    </div>
                    <div class="carinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.recntInfo.struct"
                                    class="item-content h5-item-content"
                                    :key="index"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input"
                                                 v-if="item.code==='name'||item.code==='idNo'">
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.recntInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                            <div class="item-input" v-else>
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.recntInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.recntInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='idType'">
                                                <eg-data-picker :value="pageData.recntInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :edit="'0'"
                                                                :params="item.data"
                                                                @input="pageData.recntInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                            <div class="item-input" v-else>
                                                <eg-data-picker :value="pageData.recntInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.recntInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                v-model="pageData.recntInfo.data[item.code]">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'stack'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-stack-picker :value="pageData.recntInfo.data[item.code]"
                                                                 :params="item.data"
                                                                 :title="item.holder"
                                                                 :placeholder="item.holder"
                                                                 @input="pageData.recntInfo.data[item.code] = $event.value"
                                                                 @change="insuredInfoEvent('stack', item, $event)">
                                                </eg-stack-picker>

                                            </div>
                                        </div>
                                    </template>
                                </li>
                            </ul>
                        </div>
                    </div>
                </template>
                <!-- 保险标的信息 -->
                <template v-for="(tagInfo,index) in pageData.tagsList">
                    <template v-if=" tagInfo.struct && tagInfo.struct.length>0">
                        <div class="carinfo-title">
                            <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>{{tagInfo.riskName}}标的信息
                            </h4>
                        </div>
                        <div class="carinfo-div">
                            <div class="list-block">
                                <ul>
                                    <li v-for="(item, index) in tagInfo.struct"
                                        :key="index"
                                        class="item-content h5-item-content"
                                        :class="{'item-link' :item.type === 'select' || item.type === 'stack'}"
                                        v-if="item.isShow != '1'">
                                        <template v-if="item.type === 'input'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <template v-if="item.isEdit == '0' || item.isEdit == 'N'">
                                                    <div class="item-input">
                                                        <input type="text"
                                                               readonly="readonly"
                                                               :placeholder="item.holder"
                                                               :name="item.name"
                                                               v-model='tagInfo.data[item.code]'
                                                               v-on:blur="inputChange(item, $event.target.value)">
                                                    </div>
                                                </template>
                                                <template v-else-if ="item.code == 'licenseno' || item.code == 'clplate'">
                                                    <div class="item-input">
                                                        <input type="text"
                                                               style="text-transform:uppercase"
                                                               :placeholder="item.holder"
                                                               :name="item.name"
                                                               v-model='tagInfo.data[item.code]'
                                                               v-on:blur="inputChange(item, $event.target.value),appntInfoEvent('input', item, $event.target.value)">
                                                    </div>
                                                </template>
                                                <template v-else>
                                                    <div class="item-input">
                                                        <input type="text"
                                                               :placeholder="item.holder"
                                                               :name="item.name"
                                                               v-model='tagInfo.data[item.code]'
                                                               v-on:blur="inputChange(item, $event.target.value),appntInfoEvent('input', item, $event.target.value)">
                                                    </div>
                                                </template>
                                            </div>
                                        </template>
                                        <template v-if="item.type === 'number'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <input type="number"
                                                           :placeholder="item.holder"
                                                           :name="item.name"
                                                           v-model='tagInfo.data[item.code]'
                                                           v-on:blur="inputChange(item, $event.target.value)">
                                                </div>
                                            </div>
                                        </template>
                                        <template v-if="item.type === 'select'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">
                                                    <eg-data-picker :value="tagInfo.data[item.code]"
                                                                    :placeholder="item.holder"
                                                                    :params="item.data"
                                                                    :edit="item.edit"
                                                                    @input="tagInfo.data[item.code] = $event.value">
                                                    </eg-data-picker>
                                                </div>
                                            </div>
                                        </template>
                                        <!--2021-06-23日添加标的radio类型，之前标的没有radio类型，
									目前该元素只适用于骑行无忧-VIP产品的是否挂牌业务-->
                                        <template v-if="item.type === 'radio'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}
                                                    <template v-if="item.isNeed === '1'">
                                                        <span style="color: red;">*</span>
                                                    </template>
                                                    <template v-else>
                                                        <span>&nbsp;</span>
                                                    </template>
                                                </div>
                                                <div class="item-input">
                                                    <eg-data-checker style="text-align: right; width:100%;" :check-val="pageData.isgp"
                                                                     :data="item.data" @input="pageData.isgp = $event.value" @change="isgpEvent($event.value)">
                                                    </eg-data-checker>
                                                </div>
                                            </div>
                                        </template>

                                        <template v-else-if="item.type === 'date'">
                                            <div class="item-inner h5-item-inner h5-item-inner-link">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">

                                                    <eg-date-picker :type="'date'"
                                                                    :placeholder="item.holder"
                                                                    class="birthdayDate"
                                                                    :min-date="item.data.minDate"
                                                                    :max-date="item.data.maxDate"
                                                                    :edit="item.isEdit"
                                                                    :max-year="item.data.maxYear"
                                                                    v-model="tagInfo.data[item.code]">
                                                    </eg-date-picker>

                                                </div>
                                            </div>
                                        </template>

                                        <template v-else-if="item.type === 'stack'">
                                            <div class="item-inner h5-item-inner">
                                                <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                        style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                                <div class="item-input">

                                                    <eg-stack-picker :value="pageData.appntInfo.data[item.code]"
                                                                     :params="item.data"
                                                                     :title="item.holder"
                                                                     :placeholder="item.holder"
                                                                     @input="tagInfo.data[item.code] = $event.value"
                                                                     @change="appntInfoEvent('stack', item, $event)">
                                                    </eg-stack-picker>

                                                </div>
                                            </div>
                                        </template>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </template>
                </template>
                <!-- 账户信息 -->
                <template v-if="pageData.accountInfo && pageData.accountInfo.struct && pageData.accountInfo.struct.length>0">
                    <div class="accountinfo-title">
                        <h4 class="index-content-title"
                            style="margin: 0.2rem 0px 0.5rem;color:#444577"><span class="tb"></span>账户信息<span
                                class="ts">(只能使用投保人银行卡)</span></h4>
                    </div>
                    <div class="accountinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.accountInfo.struct" class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='name'||item.code==='idNo'">
                                                <input type="text" :placeholder="item.holder" :name="item.name"
                                                       v-model='pageData.accountInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                            <div class="item-input" v-else>
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.accountInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.accountInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='idType'">
                                                <eg-data-picker :value="pageData.accountInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :edit="'0'"
                                                                :params="item.data"
                                                                @input="pageData.accountInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                            <div class="item-input" v-else>
                                                <eg-data-picker :value="pageData.accountInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.accountInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                v-model="pageData.accountInfo.data[item.code]">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>
                                </li>
                            </ul>
                        </div>
                    </div>
                </template>
                <!-- 房屋信息 -->
                <template v-if="pageData.houseInfo && pageData.houseInfo.struct && pageData.houseInfo.struct.length>0">
                    <div class="houseinfo-title">
                        <h4 class="index-content-title" style="margin: 0.2rem 0px 0.5rem;color:#444577"><span></span>房屋信息</h4>
                    </div>
                    <div class="houseinfo-div">
                        <div class="list-block">
                            <ul>

                                <li v-for="(item, index) in pageData.houseInfo.struct" class="item-content h5-item-content"
                                    :class="{'item-link' :item.type === 'select' || item.type === 'stack'}">

                                    <template v-if="item.type === 'input'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='name'||item.code==='idNo'">
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.houseInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                            <div class="item-input" v-else>
                                                <input type="text"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.houseInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-if="item.type === 'number'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">
                                                <input type="number"
                                                       :placeholder="item.holder"
                                                       :name="item.name"
                                                       v-model='pageData.carInfo.data[item.code]'
                                                       v-on:blur="inputChange()">
                                            </div>
                                        </div>
                                    </template>
                                    <template v-else-if="item.type === 'select'">
                                        <div class="item-inner h5-item-inner">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input" v-if="item.code==='idType'">
                                                <eg-data-picker :value="pageData.houseInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :edit="'0'"
                                                                :params="item.data"
                                                                @input="pageData.houseInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                            <div class="item-input" v-else>
                                                <eg-data-picker :value="pageData.houseInfo.data[item.code]"
                                                                :placeholder="item.holder"
                                                                :params="item.data"
                                                                :edit="item.edit"
                                                                @input="pageData.houseInfo.data[item.code] = $event.value">
                                                </eg-data-picker>
                                            </div>
                                        </div>
                                    </template>

                                    <template v-else-if="item.type === 'date'">
                                        <div class="item-inner h5-item-inner h5-item-inner-link">
                                            <div class="item-title label">{{item.name}}<template v-if="item.isNeed === '1'"><span
                                                    style="color: red;">*</span></template><template v-else><span>&nbsp;</span></template></div>
                                            <div class="item-input">

                                                <eg-date-picker :type="'date'"
                                                                :placeholder="item.holder"
                                                                class="birthdayDate"
                                                                :min-date="item.data.minDate"
                                                                :max-date="item.data.maxDate"
                                                                v-model="pageData.houseInfo.data[item.code]">
                                                </eg-date-picker>

                                            </div>
                                        </div>
                                    </template>


                                </li>


                            </ul>
                        </div>
                    </div>
                </template>

                <template v-if="pageData.agreeButton !== undefined && pageData.agreeButton.length !== ''">
                    <div class="product-desc-title agree" v-html="pageData.agreeButton">
                    </div>
                </template>
                <div class="bottom-div">
                    &nbsp;
                </div>
                <!-- 条款须知弹出层开始 -->
                <div style="position: absolute; top: 0px;width: 100%;z-index: 1" v-if="tkxz.isShow">
                    <div v-html="tkxz.tkxzHtml" style="display: none"></div>
                    <van-nav-bar
                            title="文件阅读页"
                            :border="false"
                            :fixed="true">
                        <template #left>
                            <van-icon name="arrow-left"
                                      color="#3B3B3B"
                                      size="20"
                                      @click="closeTkxzCon" />
                        </template>
                    </van-nav-bar>
                    <van-tabs v-model="tkxz.active" scrollspy sticky
                              offset-top="46px"
                              color="#444577"
                              style="background-color: #fafafa">
                        <van-tab v-for="(item, index) in tkxz.tkxzArr" :title="item.tkxzTile">
                            <div style="background: #fff; margin: 15px;padding: 15px;border-radius: 10px;" v-html="item.tkxzCon"></div>
                        </van-tab>
                    </van-tabs>
                </div>
                <!-- 条款须知指引遮罩 -->
                <van-overlay :show="tkxz.zyIsShow" z-index="103" @click="tkxz.zyIsShow = false" >
                    <div class="wrapper" >
                        <img src="~@/assets/img/tkxz/tkxzzy.png" width="50%">
                    </div>
                </van-overlay>
                <!-- 条款须知弹出层结束 -->
            </div>
            <!-- 条款须知弹出层底部按钮开始 -->
            <div class="footer-fixd-bottom" style="position: absolute;z-index: 102" v-if="tkxz.isShow">
                <!-- 按钮禁用增加disabled style="opacity:1.0,解除禁用#444577" -->
                <van-button v-if="!tkxz.confirmBtn" color="#bbbbbb" block style="opacity:1.0" @click="tkxz.zyIsShow=true">确认并同意</van-button>
                <van-button v-if="tkxz.confirmBtn" color="#444577" block @click="confirmTkxzCon()">确认并同意</van-button>
            </div>
            <!-- 条款须知弹出层底部按钮结束 -->

            <!-- 底部保费计算、立即支付 -->
            <!-- <div class="footer-fixd-bottom" style="position: absolute;"
				v-bind:style="{ 'pointer-events': pageData.disabledPage? 'none' : '' }"> -->
            <div class="footer-fixd-bottom" style="position: absolute;">
                <div class="bar-tab">
                    <div class="row no-gutter no-gutter-shadow">
                        <div class="col-50" id="sumPrem">
                            <a style="font-size: 12px;"
                               class="button button-big button-customer-h5 button-total">保费&nbsp;&nbsp;&nbsp;&nbsp;<span
                                    style="font-size: 1.2rem;line-height: 1rem;" class="price">￥{{  parseFloat(pageData.sumPrem).toFixed(2) }}</span> </a>
                        </div>
                        <div class="col-50">
                            <a href="#"
                               style="background-color:#444577;font-size: 12px;border-radius: 0px;"
                               id="subBtn"
                               class="button button-big button-fill button-customer-h5 button-down"
                               @click="nextInsureInput()">立即支付</a>
                        </div>
                    </div>
                </div>
            </div>
            <!--<div id="popover" class="mui-popover">
				<ul class="mui-table-view">
					<li class="mui-table-view-cell" v-for="(item, index) in pageData.storeList">
						<a href="#" @click="updateNameVal(item)">{{item.text}}</a>
					</li>
				</ul>
			</div>-->
        </div>


    </div>
</template>
<script>
    import $ from 'jquery';
    import { Toast, Dialog,Tab, Tabs, Notify } from 'vant';
    import EventBus from '@/utils/EventBus'
    // var compCheck = require('@/utils/comp-check');
    var $customer = require('@/api/customer');
    import compCheck from '@/utils/comp-check';
    import api from '@/api'
    import config from '@/config'

    // var $life = require('@/module/life');
    // var $calculation = require('@/module/calculation');
    // var util = require('@/utils/util');
    import util from '@/utils/util'
    import { inputConfig, getInit, inputSave, getImpartInfo, uploadFile, uploadFileOrc, relationType, queryStoreList, getFrameno } from "@/api/product";


    //回溯需求依赖
    var client = require('@/utils/sinosoft_collention_client');

    export default {

        data: function () {

            return {
                file_1: [],
                // ocr图片
                imgContainer:{
                    // 投保人
                    applicant:[],
                    // 被保人
                    recognizee:[],
                    // 附属被保人
                    DependentInsured:[[],[],[],[],[]]
                },
                page: {
                    autoloader: true,
                    relationToInsured:'',
                    relationToAppnt:'',
                    relationToAppntlist:[]
                },

                pageData: {
                    riskType: '',
                    //被保人 试算 标识
                    insuredFlag: false,
                    //投保人 试算 标识
                    appntFlag: false,
                    trialAddRiskList: [], //已经添加的试算集合中的附加险
                    //已经计算的list
                    readyMainRiskList: [],
                    readyAddRiskList: [],
                    saleCode: '',
                    plan:'',  //套餐编码
                    saleName: '',

                    sumPrem: '0.00',

                    /**** 控制字段 start ****/

                    appntInfo: {
                        data: {},
                        struct: []
                    }, //投保人
                    mainRiskList: [],
                    isCanChooseIsSame: '', //是否可以选择 投保人和被保人 Y是 N否
                    sameOneFlag: '', //指定的情况下 Y是 N否
                    isgp: '', //是否挂牌
                    isSameData: [],
                    insuredInfo: {
                        data: {},
                        struct: []
                    }, //被保人
                    insuredListInfo: {
                        data: {},
                        struct: [],
                        values:[{}]
                    }, //附属被保人
                    /**
                     * todo
                     */
                    imageInfo: {
                        dataArray: [],
                        data: {},
                        struct: []
                    },//影像资料



                    isCanChooseBnfType: '', //是否可以选择 切换受益人 Y是 N否
                    bnfType: '1', //不能切换的情况下  指定1  还是 法定  0
                    relationData: [],
                    bnfInfoIndex: 0, //收益人下标
                    bnfInfo: {
                        dataArray: [],
                        data: {},
                        struct: []
                    }, //受益人数据组装
                    accountInfo: {
                        data: {},
                        struct: []
                    }, //账户信息
                    carInfo: {
                        data: {},
                        struct: []
                    }, //车辆信息
                    houseInfo: {
                        data: {},
                        struct: []
                    }, //房屋信息
                    recntInfo: {
                        data: {},
                        struct: []
                    }, //推荐人信息

                    tagsList: [], //标的信息
                    /**** 控制字段 end ****/
                    trialObj: {},
                    disabledPage: false,
                    isAgree: '',
                    agreeButton: '',
                    agreeButtonTwo: '',
                    blackFlag:'',
                    // 附属被保人选择框
                    // 默认值
                    relations: '0',
                    // 所有值
                    paramRelations: [],
                    // 附属被保人
                    assistantRecognizee: [],
                    storeAllList:[],
                    storeList:[]
                },
                showBack: true,
                nameCamera: true,
                tkxz:{
                    isShow:false,//条款须知是否显示
                    zyIsShow: false,//条款须知指引遮罩是否显示
                    active:0,
                    tkxzHtml:"",//条款须知内容
                    tkxzArr:[],//条款须知数组，tkxzTile：标题，tkxzCon：内容
                    tkxzTops:[],//条款须知滚动条位置数组
                    confirmBtn: false//确认同意按钮是否禁用，默认禁用
                },
                showPopover: false,
                wstbShow: true//为谁投保是否显示
            }
        },
        //将字符时间分片拼接赋值
        onAppInit (_this) {

        },
        created () {
            window.imReady= this.imReady;
            this.pageData.saleCode = util.getSessionStorageObj('saleCode');
            console.log("产品编号: "+this.pageData.saleCode)
            // 泰山护身福-家庭版 加载附属被保人和主被保人关系
            if(this.pageData.saleCode == 'TSMOBILE_TSHSF_03'){
                var _this = this;
                relationType().then(function (defer, data){
                    _this.pageData.paramRelations=data
                })
            }
            this.pageInit();
        },
        mounted () {
            this.pageKey();
        },
        methods: {
            pageInit(){
                var _this = this;
                client.trace_point_begin('QDZT', '渠道中台', sessionStorage.getItem("thirdUserId"), sessionStorage.getItem("thirdUserId"), '信息录入','1.0.1', sessionStorage.getItem("saleNameDesc"), '信息录入');//回溯视频
                console.log(util.getSessionStorageObj("accountInfo"));

                //产品列表planCode查详情
                var saleCode = util.getSessionStorageObj('saleCode');

                //TODO 临时业务需要屏蔽保费开始
                if(saleCode == config.config.temp_sale_code){
                    $("#sumPrem").remove();
                    $("#subBtn").parent().css("width","100%");
                    $("#subBtn").text("立即领取").css("width","100%");
                }
                //TODO 临时业务需要屏蔽保费结束


                // 套餐编码
                var plan = util.getSessionStorageObj('setMealCode');
                _this.pageData.saleCode = saleCode;
                var isExemption = util.getSessionStorageObj('isExemption'); //豁免险标识
                //初始化控制参数
                inputConfig({
                    targetId:util.getSessionStorageObj("targetId"),
                    saleCode: _this.pageData.saleCode,
                    isExemption: isExemption,
                    plan:plan,
                    type: sessionStorage.getItem('type'),
                    system: sessionStorage.getItem('system')
                }).then(res => {
                    let data = res.data.content;
                    _this.pageData.saleName = data.saleName; //

                    //控制关系字段
                    _this.pageData.isCanChooseIsSame = data.isCanChooseIsSame; //是否可以选择 投保人和被保人 Y是 N否
                    _this.pageData.sameOneFlag = data.sameOneFlag; //指定的情况下 Y是 N否
                    _this.pageData.isCanChooseBnfType = data.isCanChooseBnfType; //是否可以选择 切换受益人 Y是 N否
                    _this.pageData.bnfType = data.bnfType; //不能切换的情况下  指定1  还是 法定  0
                    //设置关系
                    var sameOneFlag = util.getSessionStorageObj('sameOneFlag');
                    if (sameOneFlag) {
                        _this.pageData.sameOneFlag = sameOneFlag;
                    }

                    //骑行无忧产品设置是否挂牌： 默认是
                    if(data.saleCode && data.saleCode == 'TSMOBILE_SALE_101'){
                        _this.pageData.isgp = "Y";
                    }

                    var bnfType = util.getSessionStorageObj('bnfType'); //不能切换的情况下  指定1  还是 法定  0
                    if (bnfType) {
                        _this.pageData.bnfType = bnfType;
                    }

                    var sumPrem = util.getSessionStorageObj('sumPrem'); //总保费
                    if (sumPrem) {
                        _this.pageData.sumPrem = sumPrem;
                    }
                    //投保人赋值
                    var appntInfoData = util.getSessionStorageObj('appntInfo'); //投保人
                    //投保人
                    _this.pageData.appntInfo = data.appntInfo;
                    if (appntInfoData) {
                        _this.pageData.appntInfo.data = appntInfoData;
                    }
                    //被保人赋值
                    var insuredInfoData = util.getSessionStorageObj('insuredInfo'); //被保人
                    //被保人
                    _this.pageData.insuredInfo = data.insuredInfo;
                    if (insuredInfoData) {
                        _this.pageData.insuredInfo.data = insuredInfoData;
                    }
                    // 附属被保人信息
                    _this.pageData.insuredListInfo =  data.insuredListInfo
                    _this.pageData.insuredListInfo.values = [];
                    // _this.pageData.insuredListInfo.values[0] = {'name':'','idNo':'','relationToInsured':'','index':0};

                    /**
                     * todo
                     */
                        // 影像资料
                    var imageInfoData = util.getSessionStorageObj('imageInfo'); //被保人
                    _this.pageData.imageInfo = data.imageUploadConfig;
                    if (imageInfoData) {
                        _this.pageData.imageInfo.data = imageInfoData;
                    }

                    //受益人赋值
                    var bnfInfoListData = util.getSessionStorageObj('bnfInfoList'); //受益人
                    //受益人
                    _this.pageData.bnfInfo = $.extend(_this.pageData.bnfInfo, data.bnfInfo);
                    if (bnfInfoListData) {
                        _this.pageData.bnfInfo.dataArray = bnfInfoListData;
                    }else {
                        _this.addBnfInfo();
                    }

                    //账户信息
                    var accountInfoData = util.getSessionStorageObj('accountInfo'); //账户信息
                    _this.pageData.accountInfo = data.accountInfo;
                    if (accountInfoData) {
                        _this.pageData.accountInfo.data = accountInfoData;
                    }
                    //车辆信息
                    var carInfoData = util.getSessionStorageObj('carInfo'); //账户信息
                    _this.pageData.carInfo = data.carInfo;
                    if (carInfoData) {
                        _this.pageData.carInfo.data = carInfoData;
                    }
                    //房屋信息
                    var houseInfoData = util.getSessionStorageObj('houseInfo'); //账户信息
                    _this.pageData.houseInfo = data.houseInfo;
                    if (houseInfoData) {
                        _this.pageData.houseInfo.data = houseInfoData;
                    }
                    //推荐人信息
                    var recntInfoData = util.getSessionStorageObj('recntInfo'); //推荐人信息
                    _this.pageData.recntInfo = data.recntInfo;
                    if (recntInfoData) {
                        _this.pageData.recntInfo.data = recntInfoData;
                    }

                    //标的信息
                    var tagsListData = util.getSessionStorageObj('tagsList'); //推荐人信息
                    _this.pageData.tagsList = data.tagsList;

                    var seatCount = util.getSessionStorageObj('seatCount');
                    if (seatCount) {
                        $.each(_this.pageData.tagsList, function (_index, _obj) {
                            _obj['data'].seatcount = seatCount;
                        });
                    }
                    if (tagsListData) {
                        _this.pageData.tagsList = tagsListData;
                    }

                    //根据0663，自动选择对应手术级别
                    if (data.tagsList[0].risk==='0663'){
                        var leveltext = util.getSessionStorageObj('leveltext');
                        if ('一级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='01';
                        }else if ('二级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='02';
                        }else if ('三级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='03';
                        }else if ('四级手术'===leveltext){
                            _this.pageData.tagsList[0].data.coperativelev='04';
                        } else if ('需审批的重大手术' === leveltext) {
                            _this.pageData.tagsList[0].data.coperativelev='05';
                        }
                    }
                    if (_this.pageData.saleCode == "TSMOBILE_SALE_081"){
                        _this.wstbShow = false;
                        _this.pageData.sameOneFlag = "N";
                        _this.nameCamera = false;
                        _this.queryStoreList();
                        setTimeout(function () {
                            $("input[name='name']:eq(1)").bind("input click",function(){console.log("点击了")
                                _this.showPopover = true;
                                _this.vagueQueryStore(_this.pageData.insuredInfo.data["name"]);
                                // mui('.mui-popover').popover('show',this);

                            });
                            $("input[name='name']:eq(1)").blur(function(){
                                // mui('.mui-popover').popover('hide',this);
                                _this.showPopover = false;
                            })
                        },0)

                    }

                    // 济南借意险
                    if (data.saleCode === 'TSMOBILE_SALE_078') {
                        var loanAmount = util.getSessionStorageObj('loanAmount');
                        _this.pageData.tagsList[0].data.loanAmt = loanAmount;

                        // 结束日期
                        var endsDate = util.getSessionStorageObj('endsDate');
                        // 默认的结束日期
                        var endDate = util.getSessionStorageObj('endDate');
                        if (endsDate !== "" && endsDate !== null) {
                            _this.pageData.tagsList[0].data.backup16 = endsDate;
                        } else {
                            _this.pageData.tagsList[0].data.backup16 = endDate;
                        }
                    }
                    //				 //初始化 配置关系
                    _this.initAppntToInsured();

                    // _this.$.hideMainPageLoader();

                    //监听我已阅读复选框点击事件
                    $("#color-input-red").change(function(){
                        if($(this).is(":checked")){
                            // $("#imReady1").show();
                            // location.href = "#imReady1";
                            //初始化投保须知弹出层
                            _this.initTkxzCon();

                            return false;
                        }
                    });
                    //投保人与被保人关系选择器开始
                    _this.page.relationToAppntlist = data.relationToAppntlist;
                    for (var i = 0; i < data.relationToAppntlist.length; i++){
                        if (data.relationToAppntlist[i].code == "00"){//默认本人
                            _this.pageData.appntInfo.data.relationToInsured=data.relationToAppntlist[i].code;
                            _this.page.relationToInsured = data.relationToAppntlist[i].code;
                        }
                    }
                    if (util.getSessionStorageObj("relationToInsured")){
                        _this.pageData.appntInfo.data.relationToInsured=util.getSessionStorageObj("relationToInsured");
                        _this.page.relationToInsured = util.getSessionStorageObj("relationToInsured");
                    }
                    //投保人与被保人关系选择器结束
                });
                if(localStorage.getItem("pageKey")==1){
                    var agreeButton = util.getSessionStorageObj('agreeButton');
                    _this.pageData.agreeButton = agreeButton;
                }
                var agreeButton = util.getSessionStorageObj('agreeButton');
                //从agreeButtonTwo取出阅读条款，赋值给agreeButton，做显示使用，
                _this.pageData.agreeButton = agreeButton;
                var isAgree = util.getSessionStorageObj('isAgree'); //是否同意
                if (isAgree) {
                    _this.pageData.isAgree = isAgree;
                }
                if (_this.pageData.isAgree) { //同意勾选
                    $("#color-input-red").attr("checked", true);
                }
            },
            queryStoreList(){
                var _this = this;
                queryStoreList({
                    productCode: this.pageData.saleCode
                }).then(response => {
                    var content = response.data.content;
                    if (content!=null){
                        _this.pageData.storeAllList = content;
                        _this.pageData.storeList = _this.pageData.storeAllList;
                    }else {
                    }
                });
            },
            vagueQueryStore(val){
                var stores = [];
                for (var i = 0; i < this.pageData.storeAllList.length; i++){
                    if(this.pageData.storeAllList[i].text.indexOf(val) >= 0){
                        stores.push(this.pageData.storeAllList[i]);
                    }
                }
                this.pageData.storeList = stores;
                if(stores.length==0){
                    this.showPopover = false;
                    this.pageData.insuredInfo.data["idNo"] = "";
                    Notify('亲，所选销售门店不在清单列表内，请重新输入');
                }
            },
            updateNameVal(item){
                console.log("选中的值===》"+JSON.stringify(item))
                this.pageData.insuredInfo.data["name"] = item.text;
                this.pageData.insuredInfo.data["idNo"] = item.value;

            },
            pageKey(){
                //首次进入为空，则刷新
                if(localStorage.getItem("pageKey")==null || localStorage.getItem("pageKey")==0){
                    localStorage.setItem("pageKey",1);
//					window.location.reload();
                    window.location.replace(window.location.href);
                }
            },

            //显示与隐藏
            //点击显示和隐藏
            imReady(id) {
                //创建一个值，当判断不一致的时候，就把上一个关闭，下一个展开，
                if(id==this.blackFlag){
                    var traget=document.getElementById(id);
                    if(traget.style.display=="none"){
                        traget.style.display="";
                    }else{
                        traget.style.display="none";
                    }
                    this.blackFlag='';
                }else {
                    if(this.blackFlag){
                        var traget=document.getElementById(this.blackFlag);
                        if(traget.style.display=="none"){
                            traget.style.display="";
                        }else{
                            traget.style.display="none";
                        }
                        var traget=document.getElementById(id);
                        if(traget.style.display=="none"){
                            traget.style.display="";
                        }else{
                            traget.style.display="none";
                        }
                    }else {
                        var traget=document.getElementById(id);
                        if(traget.style.display=="none"){
                            traget.style.display="";
                        }else{
                            traget.style.display="none";
                        }
                    }
                    this.blackFlag=id;
                }
            },
            // input聚焦时，苹果手机键盘将页面顶高了
            inputChange(item, obj) {
                console.log("输入啦")
                setTimeout(function () {
                    const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;
                    window.scrollTo(0, Math.max(scrollHeight - 1, 0));
                }, 100);
                if (item.code == 'frameno' && obj != '') {
                    if (!compCheck.isRackNoBack5(obj, "你输入的车架号(后五位)格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'licenseno' && obj != '') {
                    if (!compCheck.isLicenseNo(obj, "你输入的车牌号格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'clplate' && obj != '') {
                    if (!compCheck.isLicenseNo(obj, "你输入的车牌号格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'backup2' && obj != '') {
                    if (!compCheck.isRackNo(obj, "你输入的车架号(十七位)不正确")) {
                        return;
                    }
                }
                if (item.code == 'relations') {
                    if (!obj) {
                        Toast("请选择与主保人关系");
                        return;
                    }
                }
                if (item.code == 'IdNum' && obj != '') {
                    if (!compCheck.isIdno(obj, '请输入附属被保人正确的身份证格式！')) {
                        return;
                    }
                }
                if (this.pageData.saleCode == 'TSMOBILE_SALE_043' && item.code == 'licenseno' && obj != '') {
                    var _this = this;
                    var licenseNo=obj.toUpperCase();
                    getFrameno({
                        licenseno: licenseNo
                    }).then(response => {
                        var content = response.data.content;
                        if (content==null){
                            _this.pageData.tagsList[0].data.frameno="";
                        }else {
                            _this.pageData.tagsList[0].data.frameno=content.clsbdh;
                        }
                    });
                }


            },

            //初始化页面的 头被保人关系
            initAppntToInsured() {

                var _this = this;

                if (_this.pageData.isCanChooseIsSame === 'Y') { // 能切换控件

                    _this.pageData.isSameData.push({
                        value: 'Y',
                        text: '是'
                    });
                    _this.pageData.isSameData.push({
                        value: 'N',
                        text: '否'
                    });

                } else {
                    if (_this.pageData.sameOneFlag === 'Y') { //不可以切换  必须是本人
                        _this.pageData.isSameData.push({
                            value: 'Y',
                            text: '是'
                        });
                    } else { //不可以切换  一定不是本人
                        _this.pageData.isSameData.push({
                            value: 'N',
                            text: '否'
                        });
                    }
                }

                if (_this.pageData.isCanChooseBnfType === 'Y') { // 能切换收益人控件

                    _this.pageData.relationData.push({
                        value: '0',
                        text: '法定'
                    });
                    _this.pageData.relationData.push({
                        value: '1',
                        text: '指定'
                    });

                } else {

                    if (_this.pageData.bnfType === '1') { //不可以切换收益人控件  指定受益人
                        _this.pageData.relationData.push({
                            value: '1',
                            text: '指定'
                        });
                    } else { //不可以切换  一定是法定
                        _this.pageData.relationData.push({
                            value: '0',
                            text: '法定'
                        });
                    }

                }
            },
            //根据code寻找 struct 的对象
            findStructByCode(obj, code) {

                var _this = this;
                var returnObj = null;

                $.each(obj.struct, function (_index, _obj) { //循环验证投保人 值是否为空
                    if (_obj.code == code) {
                        returnObj = _obj;
                        return false;
                    }
                });

                return returnObj;
            },

            appntInfoEvent(type, item, obj) {
                var _this = this;
                // input聚焦时，苹果手机键盘将页面顶高了
                console.log("移开啦")
                setTimeout(function () {
                    const scrollHeight = document.documentElement.scrollTop || document.body.scrollTop || 0;
                    window.scrollTo(0, Math.max(scrollHeight - 1, 0));
                }, 100);

                console.log(obj)

                if (item.code == 'idNo') {
                    // 默认出生日期和性别不可编辑 edit，0可编辑，1不可编辑
                    var bithdayStruct = _this.findStructByCode(_this.pageData.appntInfo, 'birthday');
                    bithdayStruct.edit = '0';
                    var sexStruct = _this.findStructByCode(_this.pageData.appntInfo, 'sex');
                    sexStruct.edit = '0';

                    var idType = _this.pageData.appntInfo.data['idType'];
                    if (idType == '1' || idType == '12') {
                        if (obj != '' && compCheck.isIdno(obj)) {
                            var birthDay = _this.idNoChangeBirthday(obj);
                            var sex = _this.idNoChangeSex(obj);

                            _this.pageData.appntInfo.data['birthday'] = birthDay;
                            _this.pageData.appntInfo.data['sex'] = sex;
                            bithdayStruct.edit = '1';
                            bithdayStruct.isShow = '0';
                            sexStruct.edit = '1';
                            sexStruct.isShow = '0';
                        } else {
                            bithdayStruct.isShow = '1';
                            sexStruct.isShow = '1';
                        }
                    }
                }
                if (item.code == 'isLongTermValidity') { //如果 是否长期有效

                    var idNoValidityTime = _this.findStructByCode(_this.pageData.appntInfo, 'idNoValidityTime');
                    if (idNoValidityTime) {
                        if (obj.value == 'Y') {
                            //设置有效期时间
                            idNoValidityTime.isShow = '1';
                            idNoValidityTime.isNeed = '0';
                            _this.pageData.appntInfo.data['idNoValidityTime'] = '';
                        } else {
                            idNoValidityTime.isShow = '0';
                            idNoValidityTime.isNeed = '1';
                        }
                    }
                }
                if (item.code == 'name' && obj != '') {
                    if (!compCheck.isName(obj, "你输入的名称格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'mobile' && obj != '') {
                    if (!compCheck.isMobile(obj, "你输入的手机号码格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'email' && obj != '') {
                    if (!compCheck.isEmail(obj, "你输入的电子邮箱格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'addressNo' && obj != '') {
                    if (!compCheck.isAddress(obj, "通讯地址长度不能少于3个汉字")) {
                        return;
                    }
                }




            },

            insuredInfoEvent(type, item, obj) {

                var _this = this;
                if (item.code == 'idNo') {
                    // 默认出生日期和性别可编辑
                    var bithdayStruct = _this.findStructByCode(_this.pageData.insuredInfo, 'birthday');
                    bithdayStruct.edit = '0';
                    var sexStruct = _this.findStructByCode(_this.pageData.insuredInfo, 'sex');
                    sexStruct.edit = '0';

                    var idType = _this.pageData.insuredInfo.data['idType'];
                    if (idType == '1' || idType == '12') {
                        if (obj != '' && compCheck.isIdno(obj)) {
                            var birthDay = _this.idNoChangeBirthday(obj);
                            var sex = _this.idNoChangeSex(obj);

                            _this.pageData.insuredInfo.data['birthday'] = birthDay;
                            _this.pageData.insuredInfo.data['sex'] = sex;
                            bithdayStruct.edit = '1';
                            sexStruct.edit = '1';
                        }
                    }
                }
                if (item.code == 'isLongTermValidity') { //如果 是否长期有效

                    var idNoValidityTime = _this.findStructByCode(_this.pageData.insuredInfo, 'idNoValidityTime');
                    if (idNoValidityTime) {
                        if (obj.value == 'Y') {
                            //设置有效期时间
                            idNoValidityTime.isShow = '1';
                            idNoValidityTime.isNeed = '0';
                            _this.pageData.insuredInfo.data['idNoValidityTime'] = '';
                        } else {
                            idNoValidityTime.isShow = '0';
                            idNoValidityTime.isNeed = '1';
                        }
                    }
                }
                if (item.code == 'name' && obj != '') {
                    if (!compCheck.isName(obj, "你输入的姓名格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'mobile' && obj != '') {
                    if (!compCheck.isMobile(obj, "你输入的手机号码格式不正确")) {
                        return;
                    }
                }
                if (item.code == 'relations') {
                    if (!obj) {
                        Toast("请选择与主保人关系");
                        return;
                    }
                }
                if (item.code == 'IdNum' && obj != '') {
                    if (!compCheck.isIdno(obj, '请输入附属被保人正确的身份证格式！')) {
                        return;
                    }
                }
            },
            bnfInfoEvent(type, item, dataIndex, obj) {

                var _this = this;
                if (item.code == 'idNo') {
                    // 默认出生日期和性别可编辑
                    var bithdayStruct = _this.findStructByCode(_this.pageData.bnfInfo, 'birthday');
                    bithdayStruct.edit = '0';
                    var sexStruct = _this.findStructByCode(_this.pageData.bnfInfo, 'sex');
                    sexStruct.edit = '0';

                    var idType = _this.pageData.bnfInfo.dataArray[dataIndex]['idType'];
                    if (idType == '1' || idType == '12') {
                        if (obj != '' && compCheck.isIdno(obj)) {
                            var birthDay = _this.idNoChangeBirthday(obj);
                            var sex = _this.idNoChangeSex(obj);

                            _this.pageData.bnfInfo.dataArray[dataIndex]['birthday'] = birthDay;
                            _this.pageData.bnfInfo.dataArray[dataIndex]['sex'] = sex;

                            bithdayStruct.edit = '1';
                            sexStruct.edit = '1';
                        }
                    }
                }
                if (item.code == 'isLongTermValidity') { //如果 是否长期有效

                    var idNoValidityTime = _this.findStructByCode(_this.pageData.bnfInfo, 'idNoValidityTime');

                    if (idNoValidityTime) {
                        if (obj.value == 'Y') {
                            //设置有效期时间
                            idNoValidityTime.isShow = '1';
                            idNoValidityTime.isNeed = '0';
                            _this.pageData.bnfInfo.dataArray[dataIndex]['idNoValidityTime'] = '';
                        } else {
                            idNoValidityTime.isShow = '0';
                            idNoValidityTime.isNeed = '1';
                        }
                    }
                }
                if (item.code == 'bnfOrder') {
                    //核算收益人比例 是否位100%
                    var isPass = false
                    var bnfInfoList = _this.pageData.bnfInfo.dataArray;
                    var currentOrderIndex = '';

                    var indexOne = 0;
                    var indexTwo = 0;
                    var indexThree = 0;

                    $.each(bnfInfoList, function (_index, _bnfInfo) {

                        //特殊计算受益人比例        bnfOrder  bnfLot
                        var currentOrder = _bnfInfo['bnfOrderBy'];
                        if (currentOrder == '1') {
                            indexOne++;
                        }
                        if (currentOrder == '2') {
                            indexTwo++
                        }
                        if (currentOrder == '3') {
                            indexThree++;
                        }
                        var allLot = 0;
                        $.each(bnfInfoList, function (_index, _bnfInfo) { //循环验证受益人 值是否为空
                            if (currentOrder == _bnfInfo['bnfOrderBy']) {
                                var bnfLot = _bnfInfo['bnfscale'];
                                allLot = parseInt(allLot) + parseInt(bnfLot);
                            }
                        });

                        console.log('currentOrder:' + currentOrder + ', allLot:' + allLot);

                        if (allLot < 0 || allLot > 100 || allLot != 100) {
                            currentOrderIndex = currentOrder; //第几个受益人
                            isPass = true;
                            return false;
                        }

                    });
                    if (indexOne == 0) {
                        Toast('请先选择第一顺位的受益人');
                        return false;
                    }
                    if (indexOne != 0 && indexTwo == 0 && indexThree != 0) {
                        Toast('请先选择第二顺位的受益人');
                        return false;
                    }
                    if (isPass) { //受益人是否顺序对的 受益人顺序对应的受益比例和不为100%
                        Toast('第' + currentOrderIndex + '顺序受益人对应的受益比例和不为100%！');
                        return false;
                    }
                }
            },

            //是否和被保人是一个人
            relationInfoEvent(item) {

                var _this = this;
                console.log('update sameOneFlag:');
                console.log(item);
                if (_this.pageData.saleCode == "TSMOBILE_SALE_081") {
                    if (item.value == "N") {
                        setTimeout(function () {
                            $("input[name='name']").eq(1).attr("readonly","readonly");
                        }, 0)
                    }
                }
            },
            //是否已挂牌选择事件，设置必填非必填,数据清理
            isgpEvent(val) {
                var _this = this;
                console.log("是否已挂牌选择事件");
                console.log(val);
                //骑行无忧-VIP产品，根据是否挂牌选择显示的标的信息：
                if(_this.pageData.saleCode == "TSMOBILE_SALE_101"){
                    //设置除车牌号的元素非必选：
                    var targetObjs = _this.pageData.tagsList[0].struct;
                    if(targetObjs && targetObjs.length > 0){
                        $.each(targetObjs,function(_index,_aTargetObj){
                            console.log(_index);
                            console.log(_aTargetObj);

                            if('Y' == val){
                                //除了车牌号，其他设置为非必填
                                if(_aTargetObj.code != 'licenseno' && _aTargetObj.code != 'isgp'){
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '0';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '1';
                                    //清空数据：
                                    _this.pageData.tagsList[0].data[_aTargetObj.code] = "";
                                }else{
                                    //车牌号设置为必填，显示
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '1';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '0';
                                }
                            }else{
                                if(_aTargetObj.code == 'licenseno'){
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '0';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '1';
                                    //清空数据：
                                    _this.pageData.tagsList[0].data[_aTargetObj.code] = "";
                                }else{
                                    _this.pageData.tagsList[0].struct[_index]['isNeed'] = '1';
                                    _this.pageData.tagsList[0].struct[_index]['isShow'] = '0';
                                }
                            }
                            if(_aTargetObj.code == 'isgp'){
                                _this.pageData.tagsList[0].struct[_index]['isNeed'] = '0';
                            }
                        })
                    }

                }
            },
            //是否指定受益人
            relationbnfInfoEvent(item) {

                console.log('relationbnfInfoEvent ........');
                //关闭


                var _this = this;
                _this.pageData.bnfInfo.dataArray = [];
                _this.pageData.bnfInfoIndex = 0;
                //打开
                if (_this.pageData.bnfType == '1') {

                    _this.addBnfInfo();

                } else {
                    //关闭
                    _this.pageData.bnfInfo.dataArray = [];
                    _this.pageData.bnfInfoIndex = 0;
                }
            },

            //增加受益人
            addBnfInfo() {

                var _this = this;
                //核算收益人比例 是否位100%
                //       		 	var currentOrderIndex = '';
                //       		 	var ispass=false;
                //       		 	var bnfInfoList = _this.pageData.bnfInfo.dataArray;
                //       		 	$.each(bnfInfoList, function(_index, _bnfInfo){
                //
                //       			  //特殊计算受益人比例        bnfOrder  bnfLot
                //       			  var currentOrder = _bnfInfo['bnfOrderBy'];
                //       			  var allLot = 0;
                //
                //       			  $.each(bnfInfoList, function(_index, _bnfInfo){ //循环验证受益人 值是否为空
                //       				  if(currentOrder == _bnfInfo['bnfOrderBy']){
                //	  					      var bnfLot = _bnfInfo['bnfscale'];
                //	  					      allLot = parseInt(allLot) + parseInt(bnfLot);
                //	  					  }
                //				      });
                //
                //       			  console.log('currentOrder:' + currentOrder +', allLot:' + allLot);
                //
                //       			  if(allLot < 0 || allLot > 100 || allLot != 100){
                //       				  currentOrderIndex = currentOrder;//第几个受益人
                //       				  isPass = true;
                //       				  return false;
                //	  			  }
                //
                //       		 	});
                //
                //       		 	if(isPass){ //受益人是否顺序对的 受益人顺序对应的受益比例和不为100%
                //				     Toast('第'+currentOrderIndex+'顺序受益人对应的受益比例和不为100%！');
                //	        		 return false;
                //	        	 }
                _this.pageData.bnfInfo.dataArray.push($.extend({}, _this.pageData.bnfInfo.data));
                _this.pageData.bnfInfoIndex++;

            },
            //删除受益人
            removeBnfInfo(index) {

                var _this = this;
                var lengthBnf = _this.pageData.bnfInfo.dataArray.length;
                //存在就操作
                if (lengthBnf > 1) {
                    _this.pageData.bnfInfo.dataArray.splice(index, 1);
                } else {
                    _this.pageData.bnfType = '0';
                    _this.pageData.bnfInfo.dataArray.splice(index, 1);
                }
                _this.pageData.bnfInfoIndex--;

            },

            verifyAppntInfo(appntData, element,sameOneFlag,isNeed) {
                console.log("verifyAppntInfo------" + element);
                if (appntData && element) {

                    if (element == 'mobile') { //手机

                        return compCheck.isMobile(appntData[element], '请输入投保人正确的手机号！');

                    } else if (element == 'email') { //邮箱
                        console.log(isNeed);
                        //获取到电子邮箱是否是必填项，如果是必填项就验证，否则就不验证
                        if(isNeed == '1'){
                            return compCheck.isEmail(appntData[element], '请输入投保人正确的邮箱！');
                        }


                    } else if (element == 'stature') { //身高

                        return compCheck.isPlus(appntData[element], '请输入投保人正确的身高（cm）！');

                    }
                    // else if(element == 'addressNo'){//地址

                    // 	return compCheck.isAddress(appntData[element], '投保人通讯地址长度不能少于5个汉字,或特殊字符！');

                    // }
                    else if (element == 'companyName') { //单位名称

                        return compCheck.isCompanyName(appntData[element], '投保人单位名称长度不能少于8个汉字,或特殊字符！');

                    } else if (element == 'avoirdupois') { //体重

                        return compCheck.isPlus(appntData[element], '请输入投保人正确的体重（kg）！');

                    } else if (element == 'zip') { //邮政编码

                        return compCheck.isCheckZip(appntData[element], '请输入投保人正确的邮政编码！');

                    } else if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型

                        if (appntData['idType'] == '1' || appntData['idType'] == '12') {
                            return compCheck.isIdno(appntData[element], '请输入投保人正确的身份证格式！');
                        } else if (appntData['idType'] == '23' ) {
                            return compCheck.checkTaxId(appntData[element], '请输入正确的统一社会信用代码格式！');
                        } else {
                            // //非身份证情况不允许被保人同投保人
                            // if (sameOneFlag == 'Y'){
                            // 	Toast("证件类型非身份证时被保人不支持同投保人");
                            //     return false;
                            // }else{
                            // 	return true;
                            // }
                            return true;
                        }
                    }

                }

                return true;

            },
            datedifference(sDate1, sDate2) {    //sDate1和sDate2是2006-12-18格式
                var dateSpan,
                    tempDate,
                    iDays;
                sDate1 = Date.parse(sDate1);
                sDate2 = Date.parse(sDate2);
                dateSpan = sDate2 - sDate1;
                dateSpan = Math.abs(dateSpan);
                iDays = Math.floor(dateSpan / (24 * 3600 * 1000));
                return iDays
            },
            judgeAge(birthday){
                var date = util.getSessionStorageObj('startDate');
                if(date == ""){
                    date = date = util.getSessionStorageObj('beginDate');
                }
                if(_this.datedifference(date,birthday) > 30){
                    Toast('被保人不能小于30天!');
                    isPass = true;
                    return;
                }
            },
            verifytagsList(tagsData, element) {
                console.log("verifyAppntInfo------" + element);
                if (tagsData && element) {
                    if (element == 'frameno') { //车架号
                        return compCheck.isRackNoBack5(tagsData[element], '请输入正确的车架号(后五位)！');
                    } else if (element == 'licenseno') { //车牌号
                        return compCheck.isLicenseNo(tagsData[element], '请输入正确的车牌号！');
                    }else if (element == 'clplate'){
                        return compCheck.isLicenseNo(tagsData[element], '请输入正确的车牌号！');
                    }else if (element == 'backup2'){
                        return compCheck.isRackNo(tagsData[element], '你输入的车架号(十七位)不正确');
                    }
                }
                return true;
            },


            verifyInsuredInfo(insuredData, element) {

                console.log('verifyInsuredInfo>>>' + element);

                if (insuredData && element) {

                    if (element == 'mobile') { //手机

                        return compCheck.isMobile(insuredData[element], '请输入被保人正确的手机号！');

                    } else if (element == 'email') { //邮箱

                        return compCheck.isEmail(insuredData[element], '请输入被保人正确的邮箱！');

                    } else if (element == 'stature') { //身高

                        return compCheck.isPlus(insuredData[element], '请输入被保人正确的身高（cm）！');

                    }
                    // else if(element == 'addressNo'){//地址

                    // 	return compCheck.isAddress(insuredData[element], '被保人通讯地址长度不能少于5个汉字,或特殊字符！');

                    // }
                    else if (element == 'companyName') { //单位名称

                        return compCheck.isCompanyName(insuredData[element], '被保人单位名称长度不能少于8个汉字,或特殊字符！');

                    } else if (element == 'avoirdupois') { //体重

                        return compCheck.isPlus(insuredData[element], '请输入被保人正确的体重（kg）！');

                    } else if (element == 'zip') { //邮政编码

                        return compCheck.isCheckZip(insuredData[element], '请输入被保人正确的邮政编码！');

                    } else if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型

                        if (insuredData['idType'] == '1' || insuredData['idType'] == '12') {
                            return compCheck.isIdno(insuredData[element], '请输入被保人正确的身份证格式！');
                        } else {
                            return true;
                        }

                    }
                }

                return true;

            },

            verifyBnfInfo(bnfInfoData, element) {

                console.log('verifyBnfInfo>>>' + element);

                if (bnfInfoData && element) {

                    if (element == 'bnfLot') { //受益比例

                        return compCheck.isPlus(bnfInfoData[element], '请输入正确的受益比例！');

                    } else if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型

                        if (bnfInfoData['idType'] == '1' || bnfInfoData['idType'] == '12') {
                            return compCheck.isIdno(bnfInfoData[element], '请输入受益人正确的身份证格式！');
                        } else {
                            return true;
                        }
                    }
                }

                return true;

            },
            verifyAccountInfo(accountData, element) {
                console.log('verifyAccountInfo>>>' + element);
                if (accountData && element) {
                    if (element == 'idNo') { //证件号码 身份证  //如果选择是身份证类型
                        if (accountData['idType'] == '1' || accountData['idType'] == '12') {
                            return compCheck.isIdno(accountData[element], '请输入账户信息正确的身份证格式！');
                        } else {
                            return true;
                        }

                    }
                }

                return true;

            },
            //通过身份证更改生日
            idNoChangeBirthday(idNo) {
                var _this = this;
                var len = idNo.length;
                console.log("进入了")
                //身份证15位时，次序为省（3位）市（3位）年（2位）月（2位）日（2位）校验位（3位），皆为数字
                if(len == '15') {
                    console.log("进入了2")
                    var re_fifteen = /^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/;
                    var arr_data_o = idNo.match(re_fifteen);
                    var year_o = arr_data_o[2];
                    var month_o = arr_data_o[3];
                    var day_o = arr_data_o[4];
                    var birthday_o = '19' + year_o + '-' + month_o + '-' + day_o;
                    return birthday_o;
                }

                //身份证18位时，次序为省（3位）市（3位）年（4位）月（2位）日（2位）校验位（4位），校验位末尾可能为X
                if(len == '18') {
                    var re_eighteen = /^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;
                    var arr_data = idNo.match(re_eighteen);
                    var year = arr_data[2];
                    var month = arr_data[3];
                    var day = arr_data[4];
                    var birthday = year + '-' + month + '-' + day;
                    return birthday;
                }

                // var birthday = idNo.substring(6, 10) + "-" + idNo.substring(10, 12) + "-" + idNo.substring(12, 14);
                // return birthday;
            },
            //通过身份证更改性别
            idNoChangeSex(idNo) {
                var _this = this;
                var len = idNo.length;
                //身份证15位时，次序为省（3位）市（3位）年（2位）月（2位）日（2位）校验位（3位），皆为数字
                if(len == '15') {
                    var sexChange = idNo.substring(14, 15);
                    var sex = '';
                    if (sexChange % 2 == 0) { //女
                        sex = '1';
                    } else {
                        //男
                        sex = '0';
                    }
                    return sex;
                }

                //身份证18位时，次序为省（3位）市（3位）年（4位）月（2位）日（2位）校验位（4位），校验位末尾可能为X
                if(len == '18') {
                    var sexChange = idNo.substring(16, 17);
                    var sex = '';
                    if (sexChange % 2 == 0) { //女
                        sex = '1';
                    } else {
                        //男
                        sex = '0';
                    }
                    return sex;
                }
            },
            //四舍五入 num数 v保留几位小数
            decimal(num, v) {
                var vv = Math.pow(10, v);
                return Math.round(num * vv) / vv;
            },
            //根据生日计算年龄
            birthdayToage(bir) {
                var birthday = new Date(bir.replace(/-/g, "\/"));
                var d = new Date();
                var age = d.getFullYear() - birthday.getFullYear() - ((d.getMonth() < birthday.getMonth() || d.getMonth() == birthday.getMonth() && d.getDate() < birthday.getDate()) ? 1 : 0);
                return age;
            },
            //下一步提交
            nextInsureInput() {

                localStorage.setItem("pageKey",0);
                //暂存  数据到session
                var _this = this;
                //验证数据是否可以下一步
                var isPass = false;

                if (_this.pageData.agreeButton) {
                    if (!$('#color-input-red').is(':checked')) {
                        Toast('请先阅读上述投保须知等内容，同意并勾选相关承诺');
                        $(".content").css('-webkit-overflow-scrolling', 'auto'); //ios当手指从触摸屏上移开，滚动会立即停止
                        // 使滚动条滚动到指定div位置
                        var offset = $('.agree')[0].offsetTop;
                        $('.content').scrollTop(offset);
                        $(".content").css('-webkit-overflow-scrolling', 'touch'); //ios当手指从触摸屏上移开，滚动会继续滑动
                        return;
                    } else {
                        _this.pageData.isAgree = true;
                    }
                }
                //验证tagsList
                var tagsList = _this.pageData.tagsList[0]; //tagsList
                var tagsData = _this.pageData.tagsList[0].data; //tagsList数据

                var tagsListDown = '';

                /**
                 * todo
                 * 判断投保面积是否在保险面积范围内
                 */
                if (tagsData!=undefined && tagsData.cehtarea!=undefined &&tagsData.cehtarea){
                    var ar = util.getSessionStorageObj('salePlanInfo').data.area;
                    var area = ar.split('-');
                    if (!compCheck.isarea(area,parseInt(tagsData.cehtarea), "投保面积不在选择保险面积范围内")) {
                        return false;
                    }
                }

                $.each(tagsList.struct, function (_index, _obj) { //循环验证tagsList 值是否为空
                    if (_obj.isNeed == '1') { //需要 验证是否为空
                        console.log('tagsList参数[' + _obj.name + ']需要验证');
                        var val = tagsList.data[_obj.code];
                        console.log('tagsList参数[' + _obj.name + ']需要验证,值为:' + val);
                        if (null == val || '' == val) {
                            console.log('tagsList参数[' + _index + ']是空!!!');
                            tagsListDown = _obj.name;
                            isPass = true;
                            return false;
                        }
                    }

                    var _rt = _this.verifytagsList(tagsList.data, _obj.code);

                    if (!_rt) { //如果没通过
                        tagsListDown = '';
                        isPass = true;
                        return false;
                    }

                });


                if (isPass) { //tagsList是否有的值为空
                    if (tagsListDown) {
                        Toast('请选择或录入投保人' + tagsListDown + '信息！');
                    }
                    return false;
                }

                //验证投保人
                var appntInfo = _this.pageData.appntInfo; //投保人
                var appntData = _this.pageData.appntInfo.data; //投保人数据
                var sameOneFlag = _this.pageData.sameOneFlag; //被保人同投保人选项

                var appntInfoDown = '';

                $.each(appntInfo.struct, function (_index, _obj) { //循环验证投保人 值是否为空
                    if(util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_102' || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_112'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_113'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_114') {
                        if(sameOneFlag == "Y"){
                            if(_obj.name == '出生日期'){
                                var date = util.getSessionStorageObj('startDate');
                                if(date == ""){
                                    date = date = util.getSessionStorageObj('beginDate');
                                }
                                if(_this.datedifference(date,appntInfo.data[_obj.code]) < 30){
                                    Toast('被亲，您好！保单起保时，被保险人年龄未满30天，不符合线上投保条件，请重新填写');
                                    isPass = true;
                                    return;
                                }
                            }
                        }
                    }
                    if (_obj.isNeed == '1') { //需要 验证是否为空
                        console.log('投保人参数[' + _obj.name + ']需要验证');
                        var val = appntInfo.data[_obj.code];
                        console.log('投保人参数[' + _obj.name + ']需要验证,值为:' + val);
                        if (null == val || '' == val) {
                            console.log('投保人参数[' + _index + ']是空!!!');
                            appntInfoDown = _obj.name;
                            isPass = true;
                            return false;
                        }
                    }

                    var _rt = _this.verifyAppntInfo(appntInfo.data, _obj.code,sameOneFlag,_obj.isNeed);

                    if (!_rt) { //如果没通过
                        appntInfoDown = '';
                        isPass = true;
                        return false;
                    }

                });


                if (isPass) { //被保人是否有的值为空
                    if (appntInfoDown) {
                        Toast('请选择或录入投保人' + appntInfoDown + '信息！');
                    }
                    return false;
                }


                //判断被保人
                //非本人情况
                if (_this.pageData.sameOneFlag == 'N') {
                    var insuredInfo = _this.pageData.insuredInfo; //被保人
                    var insuredData = _this.pageData.insuredInfo.data; //投保人数据

                    var insuredInfoDown = '';

                    $.each(insuredInfo.struct, function (_index, _obj) { //循环验证投保人 值是否为空
                        if(util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_102' || util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_112'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_113'|| util.getSessionStorageObj('saleCode') == 'TSMOBILE_SALE_114') {
                            if (_obj.name == '出生日期') {
                                var date = util.getSessionStorageObj('startDate');
                                if (date == "") {
                                    date = util.getSessionStorageObj('beginDate');
                                }
                                if (_this.datedifference(date, appntInfo.data[_obj.code]) < 30) {
                                    Toast('亲，您好！保单起保时，被保险人年龄未满30天，不符合线上投保条件，请重新填写');
                                    isPass = true;
                                    return;
                                }
                            }
                        }
                        if (_obj.isNeed == '1') { //需要 验证是否为空
                            console.log('被保人参数[' + _obj.name + ']需要验证');
                            var val = insuredInfo.data[_obj.code];
                            console.log('被保人参数[' + _obj.name + ']需要验证,值为:' + val);
                            if (null == val || '' == val) {
                                console.log('被保人参数[' + _index + ']是空!!!');
                                insuredInfoDown = _obj.name;
                                isPass = true;
                                return false;
                            }
                        }

                        //存在需要校监的 函数 verifyInsuredInfo
                        var _rt = _this.verifyInsuredInfo(insuredInfo.data, _obj.code);

                        if (!_rt) { //如果没通过
                            insuredInfoDown = '';
                            isPass = true;
                            return false;
                        }

                    });

                    if (isPass) { //被保人是否有的值为空
                        if (insuredInfoDown) {
                            if (_this.pageData.saleCode == "TSMOBILE_SALE_081" && insuredInfoDown == "客户代码"){
                                Toast('亲，所选销售门店不在清单列表内，请重新输入！');
                                return false;
                            }
                            Toast('请选择或录入被保人' + insuredInfoDown + '信息！');
                        }
                        return false;
                    }

                }else{
                    var tbrgx =  util.getSessionStorageObj('tbrgx');
                    if(tbrgx == "1") {
                        _this.pageData.insuredInfo.data.relationToAppnt = "00";
                    }

                }
                //	        	 _this.trial();

                //判断受益人
                //指定收益人
                if (_this.pageData.bnfType == '1') {

                    var bnfInfo = _this.pageData.bnfInfo;
                    var bnfInfoList = _this.pageData.bnfInfo.dataArray;

                    var bnfInfoDown = '';
                    var bnfInfoIndex = '';

                    $.each(bnfInfoList, function (_index, _bnfInfo) {
                        //每个受益人
                        var bnfInfoData = _bnfInfo;

                        if (isPass) {
                            return false;
                        }

                        $.each(bnfInfo.struct, function (__index, _obj) { //循环验证受益人 值是否为空

                            if (_obj.isNeed == '1') { //需要 验证是否为空
                                console.log('受益人参数[' + _obj.name + ']需要验证');
                                var val = _bnfInfo[_obj.code];
                                console.log('受益人参数[' + _obj.name + ']需要验证,值为:' + val);
                                if (null == val || '' == val) {
                                    console.log('受益人参数[' + _index + ']是空!!!');
                                    bnfInfoIndex = (_index + 1); //第几个受益人
                                    bnfInfoDown = _obj.name;
                                    isPass = true;
                                    return false;
                                }
                            }

                            //存在需要校监的 函数 verifyBnfInfo
                            var _rt = _this.verifyBnfInfo(bnfInfoData, _obj.code);

                            if (!_rt) { //如果没通过
                                bnfInfoDown = '';
                                isPass = true;
                                return false;
                            }

                        });

                    });

                    if (isPass) { //受益人是否有的值为空
                        if (bnfInfoDown) {
                            Toast('请选择或录入第' + bnfInfoIndex + '位受益人【' + bnfInfoDown + '】信息！');
                        }
                        return false;
                    }
                    //核算收益人比例 是否位100%
                    var currentOrderIndex = '';

                    var indexOne = 0;
                    var indexTwo = 0;
                    var indexThree = 0;

                    $.each(bnfInfoList, function (_index, _bnfInfo) {
                        var currentOrder = _bnfInfo['bnfOrderBy'];
                        if (currentOrder == '1') {
                            indexOne++;
                        }
                        if (currentOrder == '2') {
                            indexTwo++
                        }
                        if (currentOrder == '3') {
                            indexThree++;
                        }

                    });
                    if (indexOne == 0) {
                        Toast('请先选择第一顺位的受益人');
                        return false;
                    }
                    if (indexOne != 0 && indexTwo == 0 && indexThree != 0) {
                        Toast('请先选择第二顺位的受益人');
                        return false;
                    }

                    var allLot = 0;
                    $.each(bnfInfoList, function (_index, _bnfInfo) { //循环验证受益人 值是否为空
                        var bnfLot = _bnfInfo['bnfscale'];
                        allLot = parseInt(allLot) + parseInt(bnfLot);
                    });

                    console.log('合计受益比例和: ' + allLot);

                    if (allLot < 0 || allLot > 100 || allLot != 100) {
                        Toast('受益人对应的受益比例和不为100%！');
                        return false;
                    }
                }


                //本人情况  赋值数据到 被保人
                if (_this.pageData.sameOneFlag == 'Y') {

                    var appntInfoData = _this.pageData.appntInfo.data;
                    var appntInfoDataStruct = _this.pageData.appntInfo.struct;

                    var insuredInfoData = _this.pageData.insuredInfo.data; //被保人

                    $.each(appntInfoDataStruct, function (_index, _obj) { //循环验证投保人 值是否为空
                        if (appntInfoData[_obj.code]) {
                            insuredInfoData[_obj.code] = appntInfoData[_obj.code];
                        }
                    });
                }

                if (isPass) { //被保人是否有的值为空
                    if (accountInfoDown) {
                        Toast('请选择或录入账户信息' + accountInfoDown + '信息！');
                    }
                    return false;
                }
                // 校验附属被保人信息
                if(this.pageData.insuredListInfo && this.pageData.insuredListInfo.values && this.pageData.insuredListInfo.values.length > 0){
                    var errorMes;
                    $.each(this.pageData.insuredListInfo.values, function (index, item) {
                        if (!item.relationToInsured){
                            errorMes = "请选择附属被保人"+(index+1)+"与被保人关系";
                        }else if (!item.name){
                            errorMes = "请输入附属被保人"+(index+1)+"名称"
                        }else if (!item.idNo){
                            errorMes = "请输入附属被保人"+(index+1)+"身份证号码"
                        }else {
                            errorMes = null;
                        }
                    });
                    if (errorMes){
                        Toast(errorMes);
                        return false;
                    }
                }

                _this.pageData.disabledPage = true;

                //结束录屏
                client.trace_point_end();

                util.setSessionStorageObj('sumPrem', _this.pageData.sumPrem); //总保费

                //存储
                util.setSessionStorageObj('saleName', _this.pageData.saleName); //销售计划名称

                util.setSessionStorageObj('appntInfo', _this.pageData.appntInfo.data); //投保人

                util.setSessionStorageObj('sameOneFlag', _this.pageData.sameOneFlag); //指定的情况下 Y是 N否
                util.setSessionStorageObj('insuredInfo', _this.pageData.insuredInfo.data); //被保人

                util.setSessionStorageObj('bnfType', _this.pageData.bnfType); //不能切换的情况下  指定1  还是 法定  0
                util.setSessionStorageObj('bnfInfoList', _this.pageData.bnfInfo.dataArray); //受益人列表
                util.setSessionStorageObj('imageInfo', _this.pageData.imageInfo.dataArray); //受益人列表

                if (_this.pageData.carInfo) {
                    util.setSessionStorageObj('carInfo', _this.pageData.carInfo.data); //车辆信息
                }
                if (_this.pageData.houseInfo) {
                    util.setSessionStorageObj('houseInfo', _this.pageData.houseInfo.data); //房屋信息
                }
                if (_this.pageData.accountInfo) {
                    util.setSessionStorageObj('accountInfo', _this.pageData.accountInfo.data); //账户
                }
                util.setSessionStorageObj('recntInfo', _this.pageData.recntInfo.data); //推荐人

                if (_this.pageData.tagsList) {
                    util.setSessionStorageObj('tagsList', _this.pageData.tagsList); //标的信息
                }

                var saveObj = {};
                saveObj.orderNo = util.getSessionStorageObj('orderNo'); //订单号
                if(util.getSessionStorageObj('salesManNo')){
                    saveObj.salesManNo =  util.getSessionStorageObj('salesManNo');
                }
                if(util.getSessionStorageObj('referrerNo')){
                    saveObj.referrerNo =  util.getSessionStorageObj('referrerNo');
                }
                saveObj.appntInfo = util.getSessionStorageObj('appntInfo'); //投保人
                saveObj.sameOneFlag = util.getSessionStorageObj('sameOneFlag'); //是否投保人本人
                saveObj.sumPrem = util.getSessionStorageObj('sumPrem');
                saveObj.insuredInfo = util.getSessionStorageObj('insuredInfo'); //被保人
                saveObj.carInfo = util.getSessionStorageObj('carInfo'); //车辆信息
                saveObj.houseInfo = util.getSessionStorageObj('houseInfo'); //房屋信息
                saveObj.accountInfo = util.getSessionStorageObj('accountInfo'); //账户
                saveObj.recntInfo = util.getSessionStorageObj('recntInfo'); //账户


                saveObj.saleCode = util.getSessionStorageObj('saleCode'); //销售计划code
                saveObj.setMealCode = util.getSessionStorageObj('setMealCode'); //套餐选项
                saveObj.insuYearUnit = util.getSessionStorageObj('insuYearUnit'); //保险期间
                saveObj.startDate = util.getSessionStorageObj('startDate'); //保险起期
                saveObj.salePlanInfo = util.getSessionStorageObj('salePlanInfo'); //销售计划大对象

                saveObj.bnfType = util.getSessionStorageObj('bnfType'); //受益人类型
                saveObj.bnfInfoList = util.getSessionStorageObj('bnfInfoList'); //受益人列表
                saveObj.saleCode = _this.pageData.saleCode; //销售code
                saveObj.saleName = _this.pageData.saleName; //销售计划名称
                saveObj.riskInfo = {};
                saveObj.riskInfo.mainRiskList = util.getSessionStorageObj('readyMainRiskList');
                saveObj.riskInfo.addRiskList = util.getSessionStorageObj('readyAddRiskList');

                saveObj.tagsList = util.getSessionStorageObj('tagsList');
                saveObj.imageInfo = util.getSessionStorageObj('imageInfo'); //文件列表
                saveObj.prodPlanVersion = util.getSessionStorageObj('prodPlanVersion');//方案版本号
                // 济南借意险
                if (saveObj.saleCode === 'TSMOBILE_SALE_078') {
                    var dateJson = new Object();
                    dateJson.text = saveObj.tagsList[0].data.backup16;
                    dateJson.value = saveObj.tagsList[0].data.backup16;
                    saveObj.tagsList[0].data.backup16 = dateJson;

                    // 填入的保险起期
                    var startDate = util.getSessionStorageObj('startDate');
                    // 默认的保险起期
                    var beginDate = util.getSessionStorageObj('beginDate');
                    var date = null;
                    if (startDate !== "" && startDate !== null) {
                        date = startDate;
                    } else if (beginDate !== "" && beginDate !== null) {
                        // 078产品默认是明天00点生效，beginDate传过来默认是今天，最终传核心默认是明天00点

                        date = new Date();
                        date.setDate(new Date(beginDate).getDate() + Number(1));
                        console.log("---date---:"+date);
                        var y = date.getFullYear();//获取完整的年份(4位,1970-????)
                        var m = date.getMonth() + 1;//获取当前月份(0-11,0代表1月)
                        if (m <= 9) m = "0" + m;
                        var d = date.getDate();
                        if (d <= 9) d = "0" + d;
                        date = y + "-" + m + "-" + d;
                        console.log("beginDate:"+date);
                    }

                    if (date !== "" && date !== null) {

                        // 校验贷款发放日期不能晚于保险起期
                        console.log("贷款发放日期："+JSON.stringify(saveObj.tagsList[0].data.backup17));
                        console.log("贷款发放日期："+saveObj.tagsList[0].data.backup17.value);
                        console.log("date："+date);
                        if (saveObj.tagsList[0].data.backup17 != null && saveObj.tagsList[0].data.backup17 != "") {
                            console.log("进来了呀------：");
                            if (saveObj.tagsList[0].data.backup17.value > date) {
                                console.log("1："+saveObj.tagsList[0].data.backup17.value);
                                console.log("2："+date);
                                return Toast("贷款发放时间不能晚于起保日期！");
                            }

                        }

                    }

                }

                // 附属被保人信息
                // if(this.pageData.saleCode == 'TSMOBILE_TSHSF_03'){
                // 	saveObj.tagsList=[{'data':{},'risk':'0656'}];
                // 	saveObj.tagsList[0].data.memberModelList = this.pageData.assistantRecognizee
                // 	let relationToInsured = pageData.insuredListInfo.data.relationToInsured;
                // 	let name = pageData.insuredListInfo.data.name;
                // 	let idNo = pageData.insuredListInfo.data.idNo;
                // }

                // 附属被保人信息
                if(this.pageData.insuredListInfo && this.pageData.insuredListInfo.values && this.pageData.insuredListInfo.values.length>0){
                    saveObj.tagsList[0].data.memberModelList = this.pageData.assistantRecognizee
                    for (var i = 0; i < this.pageData.insuredListInfo.values.length; i++) {
                        var val = this.pageData.insuredListInfo.values[i];
                        var memberModelListElement = {};
                        saveObj.tagsList[0].data.memberModelList[i]=memberModelListElement
                        memberModelListElement['relCde']=val['relationToInsured'];
                        memberModelListElement['memberName']=val['name'];
                        memberModelListElement['certfCde']=val['idNo'];
                        // 身份证类型
                        memberModelListElement['certfCls'] = '01';
                        memberModelListElement['SeqNo'] = i + 1;
                    }
                }
                //设置被保人一般健康告知书结果：
                //默认被保人健康告知书结果对象“0”属性为一般健康告知书，一般健康告知书为其他属性的特殊配置
                var insuredImpartInfo = util.getSessionStorageObj("impartInfo");
                if(insuredImpartInfo){
                    if(insuredImpartInfo['0'] && insuredImpartInfo['0']['result'] == '1'){
                        saveObj['inform'] = '0';
                    }
                    if(saveObj.saleCode === 'TSMOBILE_TSHSF_14'){
                        saveObj['inform'] = '1';
                        if(insuredImpartInfo['1'] && insuredImpartInfo['1']['result'] == '1'){
                            saveObj['inform'] = '0';
                        }
                    }
                }
                saveObj.system = sessionStorage.getItem('system');
                saveObj.type = sessionStorage.getItem('type');
                inputSave(saveObj).then(response => {
                    var data = response.data.content;
                    //TODO 临时业务需要需要直接跳转到结果页开始
                    if (data.result != '1'){
                        if(_this.pageData.saleCode == config.config.temp_sale_code){
                            _this.$router.push({
                                name: 'paymentResultTemp', query: {
                                    businessNo: data.insOrderNo
                                }
                            })
                            // util.goPage('../insure/paymentResultTemp.vue?businessNo=' + data.insOrderNo);
                            return false;
                        }
                    }
                    //TODO 临时业务需要直接跳转到结果页结束



                    if (data.result == '1') {
                        Toast(data.resultMessage,null,5000);
                    } else if (data.result == 'isWaitPay') {
                        if (data.payUrl != null) {
                            // util.goPage(data.payUrl,{location:true});
                            _this.fobidden_back();

                            Dialog.confirm({
                                title: '提示',
                                message: '当前订单已经核保请勿重复核保,请按原始订单支付或重新出单！',
                                confirmButtonText:"重新出单",
                                cancelButtonText:"继续支付"
                            })
                                .then(() => {
                                    // on confirm
                                    _this.enable_back();
                                    //清除session
                                    sessionStorage.clear();
                                    setTimeout(function () {
                                        // window.history.back();
                                        _this.$router.go(-2);
                                    },300)

                                    setTimeout(function () {
                                        location.reload();
                                    },800)
                                })
                                .catch(() => {//继续支付
                                    // on cancel
                                    _this.enable_back();
                                    window.open(data.payUrl,'_self')
                                });

                            /*mui.confirm('当前订单已经核保请勿重复核保,请按原始订单支付或重新出单！', '提示', ['继续支付','重新出单'], function(e) {
								_this.enable_back();
								if (e.index == 1) {
									//清除session
									sessionStorage.clear();
									setTimeout(function () {
										window.history.back();
									},300)

									setTimeout(function () {
										location.reload();
									},800)
								} else {//继续支付
									util.goPage(data.payUrl,{location:true});
								}
							})*/
                        } else {
                            _this.$router.push({
                                name: 'insurePayment', query: {
                                    saleCode: _this.pageData.saleCode, insuranceOrderNo: data.insOrderNo
                                }
                            })
                            // util.goPage('../insure/insurePayment.vue?saleCode=' + _this.pageData.saleCode + '&insuranceOrderNo=' + data.insOrderNo);
                        }
                    } else {
                        util.setSessionStorageObj('orderNo', data.insOrderNo);

                        //util.goPage('../insure/insurePayment.vue?saleCode=' + _this.pageData.saleCode + '&insuranceOrderNo=' + data.insOrderNo+'&flags='+1);


                        if(data.seeFeeFlag=='0'){
                            //直接显示
                            this.$router.push({
                                name: 'paymentResult', query: {
                                    saleCode: _this.pageData.saleCode,
                                    insuranceOrderNo: data.insOrderNo,
                                    flags:+1
                                }
                            })
                            // util.goPage('./paymentResult.vue?saleCode='+_this.pageData.saleCode+'&insuranceOrderNo='+data.insOrderNo+'&flags='+1);
                        }else {
                            if (data.payUrl != null) {
                                window.open(data.payUrl, '_self')
                                // util.goPage(data.payUrl,{location:true});
                            } else {
                                this.$router.push({name:"insurePayment", query:{saleCode:_this.pageData.saleCode,insuranceOrderNo:data.insOrderNo}})
                                // util.goPage('../insure/insurePayment.vue?saleCode=' + _this.pageData.saleCode + '&insuranceOrderNo=' + data.insOrderNo);
                            }
                        }
                    }
                });
            },
            //禁用浏览器返回
            fobidden_back() {
                //防止页面后退
                history.pushState(null, null, document.URL);
                window.addEventListener('popstate',this.back_common)
            },
            //启用浏览器返回
            enable_back() {
                history.go(-1);
                window.removeEventListener('popstate',this.back_common)
            },
            back_common() {
                history.pushState(null, null, document.URL);
            },
            changeImag(ids,types){

                // var URL = config.config.self_h5_server_url;
                var image = document.getElementById(ids);
                var files=document.getElementById(ids).value;
                var imageBase64 = document.getElementById(ids).files[0];
//						var url = "http://10.1.70.128:9004/car-restful/car/upload/uploadFile"
// 				var url = URL+"/uploadFile";
                var forms = new FormData();
                forms.append('file',document.getElementById(ids).files[0]);
                uploadFile(forms).then(res=>{
                    console.log(res)
                    if(res.data.code==0){
                        if(res.data.content.result==0){
                            this.ToBase64(imageBase64,ids);
                            Toast('上传成功');
                            this.pageData.imageInfo.dataArray.push(res.data.content.imageUrl);
                        }
                    }else {
                        Toast('上传失败，请检查网络或联系管理员');
                    }
                })
            },
            /**
             *
             * @param elementId 文件元素ID
             * @param showListObj 显示图片列表的数组对象
             * @param showTextObj 显示识别后文字的对象
             */
            ocrRecognitionHandler(elementId,showListObj,showTextObj){
                // var URL = config.config.self_h5_server_url;
                var imageBase64 = document.getElementById(elementId).files[0];
                if (!imageBase64){
                    Toast('未选择文件!');
                    return;
                }
                // $.showIndicator();

                // setTimeout(function () {
                // 	$.hideIndicator();
                // }, 16000);

                var forms = new FormData();
                forms.append('multipartFile',imageBase64);
                uploadFileOrc(forms).then(res=>{
                    console.log("文件上传响应信息: ",res)
                    if(res.data.code==0){
                        if(res.data.content.result==0){
                            // todo 1.清空原来的信息
                            if (showTextObj){
                                showTextObj.name=""
                                showTextObj.idNo="";
                                showTextObj.birthday="";
                                showTextObj.sex="";
                            }
                            if(res.data.content.name || res.data.content.id_number){
                                Toast('身份证识别成功, 请确认信息是否完整或正确!');
                                // todo 3.显示识别的文字
                                showTextObj.name=res.data.content.name;
                                showTextObj.idNo=res.data.content.id_number;
                                showTextObj.birthday=this.idNoChangeBirthday(showTextObj.idNo);
                                showTextObj.sex = this.idNoChangeSex(showTextObj.idNo);
                                this.$forceUpdate()
                            }else {
                                Toast('图片识别失败, 请上传高清图片重新识别!');
                            }

                        }else {
                            if (res.data.content.resultMessage){
                                Toast(res.data.content.resultMessage);
                            }else {
                                Toast('图片识别失败, 请上传高清图片重新识别!');
                            }
                        }
                    }else {
                        Toast('上传失败，请检查网络或联系管理员');
                    }
                })
            },
            ToBase64(image,typeid) {
                var reader = new FileReader()
                reader.readAsDataURL(image);
                reader.onload = () => {
                    console.log('file 转 base64结果：' + reader.result);
                    if(typeid == "file_1"){
                        this.file_1.push(reader.result);
                    }

                }
                reader.onerror = function (error) {
                    console.log('Error: ', error)
                }
            },
            removeRecognizee(index){
                this.pageData.insuredListInfo.values.splice(index,1);
                this.$forceUpdate()
            },
            addRecognizee(){
                this.pageData.insuredListInfo.values.push({});
                this.$forceUpdate()
                // this.pageData.assistantRecognizee.push({
                // 	'SeqNo':this.pageData.assistantRecognizee.length + 1,
                // 	'certfCls':'01',
                // 	'relCde':this.pageData.paramRelations[0].value});
            },
            selectInsuredRelationship(val){
                var  relationToAppnt;
                var _this = this;
                if(val == "00"){//本人
                    _this.pageData.sameOneFlag = "Y";
                }else{
                    _this.pageData.sameOneFlag = "N";
                }
                _this.pageData.appntInfo.data.relationToInsured=val;


                _this.page.relationToInsured = val;
                util.setSessionStorageObj("relationToInsured", val);
                util.setSessionStorageObj('sameOneFlag', _this.pageData.sameOneFlag); //指定的情况下 Y是 N否

                var tbrgx =  util.getSessionStorageObj('tbrgx');
                if(tbrgx == "1"){
                    if(val == "00"){
                        _this.pageData.insuredInfo.data.relationToAppnt=val;
                    }else if(val == "01"){
                        _this.pageData.insuredInfo.data.relationToAppnt=val;
                    }else if(val == "02"){
                        _this.pageData.insuredInfo.data.relationToAppnt="03";
                    } else if(val == "03"){
                        _this.pageData.insuredInfo.data.relationToAppnt="02";
                    }
                }
            },
            tkxzSwitch(index){
                this.tkxz.mui_active = index;
                //设置滚动条高度
                mui('.mui-scroll-wrapper').scroll().scrollTo(0,this.tkxz.tkxzTops[index],1000);//100毫秒滚动到顶
            },
            initTkxzCon(){
                $(".insure-input-content").scrollTop(0)
                var _this = this;
                _this.tkxz.isShow = true;
                _this.tkxz.tkxzHtml = util.getSessionStorageObj('tkxzObj').tabsContent;
                _this.tkxz.confirmBtn = false;
                setTimeout(function () {
                    var _tempTkxzArr = [];
                    $(".one-left").each(function(i, item){
                        var obj = new Object({tkxzTile:"",tkxzCon:""});
                        _tempTkxzArr.push(obj);
                        _tempTkxzArr[i].tkxzTile=$(item).text().replace("《","").replace("》","");
                    });
                    _this.tkxz.tkxzArr = _tempTkxzArr;
                    $("[id^='toubaoxuzhi']").each(function (i, item) {
                        _this.tkxz.tkxzArr[i].tkxzCon=$(item).html();
                    });
                },0);
            },
            closeTkxzCon(){
                this.tkxz.isShow = false;
                $("#color-input-red").prop("checked", false);
            },
            confirmTkxzCon(){
                this.tkxz.isShow=false;
                $("#subBtn").text("已全部阅读，前往支付").css("font-size","16px");
            },
            //滚动条触发事件
            scrollEvent(e) {
                if (e.srcElement.scrollHeight- (e.srcElement.scrollTop + e.srcElement.clientHeight) < 10 ) {
                    this.tkxz.confirmBtn = true;
                    console.log("嘿嘿我在底部触发了")
                }
            },
            onClickLeft () {
                this.$router.go(-1);
            }
        }
    }
</script>
<style  src="@/assets/less/app/base/sm.css" scoped>
</style>
<style  lang="less" scoped>
    //@import "~@/assets/css/iconfont.css";
    @import "~@/assets/less/app/base/iconfont.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/iconfont.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/public.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/button.css";
    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/sm.css?rev=e6e7d3056545b5f40aa82b44a30061e8";

    @import "~@assets/less/app/product/insureInput.less";

    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/rangeslider.css?rev=c2332a22ff57670815a74f20339b85f1";

    //@import "https://webtest.taishanpic.com.cn/mall-h5/public/css/main.css?rev=1226df45e08c2dc7ae62796490787aa7";
    @import "~@/assets/less/app/base/main.css";
    h4 {
        text-align: left;
        font-weight: bold;
        margin: 0.7rem 0px 0.5rem !important;
        font-size: 0.85rem;
    }

    .button.button-big {
        font-size: 1rem;
    }
    .button-customer-h5 {
        border-color: #f1a900;
        color: #f1a900;
        background-color: #ffffff;
    }
    .button.button-big {
        font-size: 1rem;
    }
    .footer-fixd-bottom .button-total {
        border-radius: 0;
        height: 45rem;
        line-height: 2.5;
        border-color: #ffffff;
        border-left: 0;
        color: #000;
    }

    .price {
        flex: 1.5;
        color: #fb7125 !important;
        font-size: 22px;
    }
    .bg-violet{
        background: #444577;
        color: #ffffff;
    }
</style>
<style>
    .van-popover__action {
        width: 90% !important;
        box-sizing: inherit;
    }
    .van-popover__action-text {
        justify-content: left;
        width: 100%;
    }
    .wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
    }
</style>